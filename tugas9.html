
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>PROSES ANALISIS DAN PREDIKSI NO2 SELAMA 2 BULAN DI DESA MOJOREMBUN, KABUPATEN BLORA, JAWA TENGAH &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
<<<<<<< HEAD
    <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
=======
    <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
>>>>>>> ff8a6e6c9ed19be74b1219edc5b7aab7dcd29881
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tugas9';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="IDENTIFIKASI SUARA ‘BUKA TUTUP’ MENGGUNAKAN FEATURE STATISTIK TIME SERIES" href="tugas10.html" />
<<<<<<< HEAD
    <link rel="prev" title="KLASIFIKASI DATASET TIROID MENGGUNAKAN KNIME" href="tugas8.html" />
=======
    <link rel="prev" title="KLASIFIKASI DATA MENGGUNAKAN KNIME - PROJECT PRA UTS" href="tugas7.html" />
>>>>>>> ff8a6e6c9ed19be74b1219edc5b7aab7dcd29881
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="My sample book - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="My sample book - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome to My Jupyter Web
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="tugas1.html">BUSINESS UNDERSTANDING</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="tugas2.html">DATA UNDERSTANDING</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="tugas3.html">EKSPLORASI DATA</a></li>
<li class="toctree-l2"><a class="reference internal" href="tugas4.html">OUTLIER</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="tugas5.html">DATA PREPROCESSING</a></li>
<<<<<<< HEAD
<li class="toctree-l1"><a class="reference internal" href="tugas7.html">KLASIFIKASI DATA MENGGUNAKAN KNIME - PROJECT PRA UTS</a></li>
<li class="toctree-l1"><a class="reference internal" href="tugas8.html">KLASIFIKASI DATASET TIROID MENGGUNAKAN KNIME</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">PROSES ANALISIS DAN PREDIKSI NO2 SELAMA 2 BULAN DI DESA MOJOREMBUN, KABUPATEN BLORA, JAWA TENGAH</a></li>
<li class="toctree-l1"><a class="reference internal" href="tugas10.html">IDENTIFIKASI SUARA ‘BUKA TUTUP’ MENGGUNAKAN FEATURE STATISTIK TIME SERIES</a></li>
<li class="toctree-l1"><a class="reference internal" href="tugas11.html">PERHITUNGAN JARAK 100 DATA SUARA BUKA/TUTUP DAN 1 DATA SUARA BARU MENGGUNAKAN DATA TIME WARPING</a></li>
<li class="toctree-l1"><a class="reference internal" href="tugas12.html">KLASIFIKASI HEARTBEAT SIGNAL</a></li>
=======
<li class="toctree-l1"><a class="reference internal" href="tugas6.html">PENYEIMBANGAN DATA MENGGUNAKAN SMOTE DAN ADASYN</a></li>
<li class="toctree-l1"><a class="reference internal" href="tugas7.html">KLASIFIKASI DATA MENGGUNAKAN KNIME - PROJECT PRA UTS</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">PROSES ANALISIS DAN PREDIKSI NO2 SELAMA 2 BULAN DI DESA MOJOREMBUN, KABUPATEN BLORA, JAWA TENGAH</a></li>
<li class="toctree-l1"><a class="reference internal" href="tugas10.html">IDENTIFIKASI SUARA ‘BUKA TUTUP’ MENGGUNAKAN FEATURE STATISTIK TIME SERIES</a></li>
>>>>>>> ff8a6e6c9ed19be74b1219edc5b7aab7dcd29881
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Ftugas9.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/tugas9.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>PROSES ANALISIS DAN PREDIKSI NO2 SELAMA 2 BULAN DI DESA MOJOREMBUN, KABUPATEN BLORA, JAWA TENGAH</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-understanding">Data Understanding</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menginstal-dan-mengkoneksi-openeo">Menginstal dan Mengkoneksi Openeo</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#timeseries-konsentrasi-no2-per-jam">Timeseries Konsentrasi NO2 per Jam</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocessing">Preprocessing</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pemrosesan-missing-value">Pemrosesan Missing Value</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#split-data">Split Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#normalisasi-data-mengguakan-minmaxscaler">Normalisasi Data Mengguakan MinMaxScaler</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#transformasi-data-timeseries-menjadi-supervised-learning-dengan-fitur-lag">Transformasi Data Timeseries Menjadi Supervised Learning Dengan Fitur Lag</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-kondisi-no2-menggunakan-knn-regression-dan-random-forest">Analisis Kondisi NO2 Menggunakan KNN Regression dan Random Forest</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pemodelan-prediksi-konsentrasi-no2-menggunakan-model-knn">Pemodelan Prediksi Konsentrasi NO2 Menggunakan Model KNN</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluasi-model-k-nearest-neighbors-knn">Evaluasi Model K-Nearest Neighbors (KNN)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi-prediksi-no2-menggunakan-k-nearest-neighbors-knn">Visualisasi Prediksi NO2 Menggunakan K-Nearest Neighbors (KNN)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pemodelan-prediksi-konsentrasi-no2-menggunakan-model-random-forest">Pemodelan Prediksi Konsentrasi NO₂ Menggunakan Model Random Forest</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluasi-model-random-forest">Evaluasi Model Random Forest</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi-hasil-prediksi-konsentrasi-no2-menggunakan-random-forest">Visualisasi Hasil Prediksi Konsentrasi NO₂ Menggunakan Random Forest</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#perbandingan-model-menggunakan-knn-dan-random-forest">Perbandingan Model Menggunakan KNN dan Random Forest</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prediksi-no2-besok-menggunakan-knn-regression">Prediksi NO2 Besok Menggunakan KNN Regression</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prediksi-no2-untuk-30-hari-menggunakan-knn-regression">Prediksi NO2 untuk 30 Hari Menggunakan KNN Regression</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prediksi-no2-besok-menggunakan-random-forest">Prediksi NO2 Besok Menggunakan Random Forest</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prediksi-no2-untuk-30-hari-ke-depan-menggunakan-random-forest">Prediksi NO₂ untuk 30 Hari ke Depan Menggunakan Random Forest</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implementasi-machine-learning-dalam-prediksi-no2-menggunakan-random-forest">Implementasi Machine Learning dalam Prediksi NO2 Menggunakan Random Forest</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#melatih-model">Melatih Model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pemrosesan-data">Pemrosesan Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prediksi-konsentrasi-no2-menggunakan-random-forest">Prediksi Konsentrasi NO2 Menggunakan Random Forest</a></li>
</ul>
</li>
<<<<<<< HEAD
=======
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implementasi-menggunakan-streamlit">Implementasi Menggunakan Streamlit</a></li>
>>>>>>> ff8a6e6c9ed19be74b1219edc5b7aab7dcd29881
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="proses-analisis-dan-prediksi-no2-selama-2-bulan-di-desa-mojorembun-kabupaten-blora-jawa-tengah">
<h1>PROSES ANALISIS DAN PREDIKSI NO2 SELAMA 2 BULAN DI DESA MOJOREMBUN, KABUPATEN BLORA, JAWA TENGAH<a class="headerlink" href="#proses-analisis-dan-prediksi-no2-selama-2-bulan-di-desa-mojorembun-kabupaten-blora-jawa-tengah" title="Link to this heading">#</a></h1>
<p>Tugas kali ini, saya akan melakukan analisis NO2 di wilayah tempat tinggal saya, yaitu Desa Mojorembun, Kabupaten Blora, Jawa Tengah. Analisis ini diambil dalam rentang waktu 2 bulan yaitu tanggal 1 agustus - 1 oktober 2025. Proses yang akan dilakukan adalah penyambungan dengan openeo, pembacaan data, memproses missing value, normalisasi data, mengubah ke supervised learning, memodelkan dengan Random Forest, dan prediksi 30 hari setelahnya.</p>
<section id="data-understanding">
<h2>Data Understanding<a class="headerlink" href="#data-understanding" title="Link to this heading">#</a></h2>
<section id="menginstal-dan-mengkoneksi-openeo">
<h3>Menginstal dan Mengkoneksi Openeo<a class="headerlink" href="#menginstal-dan-mengkoneksi-openeo" title="Link to this heading">#</a></h3>
<p>Pada tahap awal ini, saya akan menginstal openeoo dulu agar dapat terkoneksi dan membaca data. Data yang digunakn nantinya itu terdapat koordinat lokasi tujuannya.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">openeo</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<<<<<<< HEAD
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: openeo in c:\users\vanisa\appdata\local\programs\python\python313\lib\site-packages (0.45.0)
Requirement already satisfied: requests&gt;=2.26.0 in c:\users\vanisa\appdata\roaming\python\python313\site-packages (from openeo) (2.32.5)
Requirement already satisfied: urllib3&gt;=1.9.0 in c:\users\vanisa\appdata\roaming\python\python313\site-packages (from openeo) (2.5.0)
Requirement already satisfied: shapely&gt;=1.6.4 in c:\users\vanisa\appdata\local\programs\python\python313\lib\site-packages (from openeo) (2.1.2)
Requirement already satisfied: numpy&gt;=1.17.0 in c:\users\vanisa\appdata\local\programs\python\python313\lib\site-packages (from openeo) (2.3.3)
Requirement already satisfied: xarray&lt;2025.01.2,&gt;=0.12.3 in c:\users\vanisa\appdata\local\programs\python\python313\lib\site-packages (from openeo) (2025.1.1)
Requirement already satisfied: pandas&gt;0.20.0 in c:\users\vanisa\appdata\local\programs\python\python313\lib\site-packages (from openeo) (2.3.3)
Requirement already satisfied: pystac&gt;=1.5.0 in c:\users\vanisa\appdata\local\programs\python\python313\lib\site-packages (from openeo) (1.14.1)
Requirement already satisfied: deprecated&gt;=1.2.12 in c:\users\vanisa\appdata\local\programs\python\python313\lib\site-packages (from openeo) (1.2.18)
Requirement already satisfied: oschmod&gt;=0.3.12 in c:\users\vanisa\appdata\local\programs\python\python313\lib\site-packages (from openeo) (0.3.12)
Requirement already satisfied: packaging&gt;=23.2 in c:\users\vanisa\appdata\roaming\python\python313\site-packages (from xarray&lt;2025.01.2,&gt;=0.12.3-&gt;openeo) (25.0)
Requirement already satisfied: wrapt&lt;2,&gt;=1.10 in c:\users\vanisa\appdata\local\programs\python\python313\lib\site-packages (from deprecated&gt;=1.2.12-&gt;openeo) (1.17.3)
Requirement already satisfied: pywin32 in c:\users\vanisa\appdata\roaming\python\python313\site-packages (from oschmod&gt;=0.3.12-&gt;openeo) (311)
Requirement already satisfied: python-dateutil&gt;=2.8.2 in c:\users\vanisa\appdata\roaming\python\python313\site-packages (from pandas&gt;0.20.0-&gt;openeo) (2.9.0.post0)
Requirement already satisfied: pytz&gt;=2020.1 in c:\users\vanisa\appdata\local\programs\python\python313\lib\site-packages (from pandas&gt;0.20.0-&gt;openeo) (2025.2)
Requirement already satisfied: tzdata&gt;=2022.7 in c:\users\vanisa\appdata\local\programs\python\python313\lib\site-packages (from pandas&gt;0.20.0-&gt;openeo) (2025.2)
Requirement already satisfied: six&gt;=1.5 in c:\users\vanisa\appdata\roaming\python\python313\site-packages (from python-dateutil&gt;=2.8.2-&gt;pandas&gt;0.20.0-&gt;openeo) (1.17.0)
Requirement already satisfied: charset_normalizer&lt;4,&gt;=2 in c:\users\vanisa\appdata\roaming\python\python313\site-packages (from requests&gt;=2.26.0-&gt;openeo) (3.4.3)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in c:\users\vanisa\appdata\roaming\python\python313\site-packages (from requests&gt;=2.26.0-&gt;openeo) (3.10)
Requirement already satisfied: certifi&gt;=2017.4.17 in c:\users\vanisa\appdata\roaming\python\python313\site-packages (from requests&gt;=2.26.0-&gt;openeo) (2025.10.5)
Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[notice] A new release of pip is available: 25.2 -&gt; 25.3
[notice] To update, run: python.exe -m pip install --upgrade pip
=======
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: openeo in c:\users\triad\appdata\local\programs\python\python39\lib\site-packages (0.46.0)
Requirement already satisfied: shapely&gt;=1.6.4 in c:\users\triad\appdata\local\programs\python\python39\lib\site-packages (from openeo) (2.0.7)
Requirement already satisfied: deprecated&gt;=1.2.12 in c:\users\triad\appdata\local\programs\python\python39\lib\site-packages (from openeo) (1.2.18)
Requirement already satisfied: oschmod&gt;=0.3.12 in c:\users\triad\appdata\local\programs\python\python39\lib\site-packages (from openeo) (0.3.12)
Requirement already satisfied: requests&gt;=2.26.0 in c:\users\triad\appdata\local\programs\python\python39\lib\site-packages (from openeo) (2.32.5)
Requirement already satisfied: pandas&gt;0.20.0 in c:\users\triad\appdata\local\programs\python\python39\lib\site-packages (from openeo) (2.3.2)
Requirement already satisfied: xarray&lt;2025.01.2,&gt;=0.12.3 in c:\users\triad\appdata\local\programs\python\python39\lib\site-packages (from openeo) (2024.7.0)
Requirement already satisfied: numpy&gt;=1.17.0 in c:\users\triad\appdata\local\programs\python\python39\lib\site-packages (from openeo) (2.0.2)
Requirement already satisfied: pystac&gt;=1.5.0 in c:\users\triad\appdata\local\programs\python\python39\lib\site-packages (from openeo) (1.10.1)
Requirement already satisfied: urllib3&gt;=1.9.0 in c:\users\triad\appdata\local\programs\python\python39\lib\site-packages (from openeo) (2.5.0)
Requirement already satisfied: wrapt&lt;2,&gt;=1.10 in c:\users\triad\appdata\local\programs\python\python39\lib\site-packages (from deprecated&gt;=1.2.12-&gt;openeo) (1.17.3)
Requirement already satisfied: pywin32 in c:\users\triad\appdata\local\programs\python\python39\lib\site-packages (from oschmod&gt;=0.3.12-&gt;openeo) (311)
Requirement already satisfied: pytz&gt;=2020.1 in c:\users\triad\appdata\local\programs\python\python39\lib\site-packages (from pandas&gt;0.20.0-&gt;openeo) (2025.2)
Requirement already satisfied: tzdata&gt;=2022.7 in c:\users\triad\appdata\local\programs\python\python39\lib\site-packages (from pandas&gt;0.20.0-&gt;openeo) (2025.2)
Requirement already satisfied: python-dateutil&gt;=2.8.2 in c:\users\triad\appdata\local\programs\python\python39\lib\site-packages (from pandas&gt;0.20.0-&gt;openeo) (2.9.0.post0)
Requirement already satisfied: charset_normalizer&lt;4,&gt;=2 in c:\users\triad\appdata\local\programs\python\python39\lib\site-packages (from requests&gt;=2.26.0-&gt;openeo) (3.4.3)
Requirement already satisfied: certifi&gt;=2017.4.17 in c:\users\triad\appdata\local\programs\python\python39\lib\site-packages (from requests&gt;=2.26.0-&gt;openeo) (2025.8.3)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in c:\users\triad\appdata\local\programs\python\python39\lib\site-packages (from requests&gt;=2.26.0-&gt;openeo) (3.10)
Requirement already satisfied: packaging&gt;=23.1 in c:\users\triad\appdata\local\programs\python\python39\lib\site-packages (from xarray&lt;2025.01.2,&gt;=0.12.3-&gt;openeo) (25.0)
Requirement already satisfied: six&gt;=1.5 in c:\users\triad\appdata\local\programs\python\python39\lib\site-packages (from python-dateutil&gt;=2.8.2-&gt;pandas&gt;0.20.0-&gt;openeo) (1.17.0)
Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING: You are using pip version 22.0.4; however, version 25.3 is available.
You should consider upgrading via the &#39;C:\Users\triad\AppData\Local\Programs\Python\Python39\python.exe -m pip install --upgrade pip&#39; command.
>>>>>>> ff8a6e6c9ed19be74b1219edc5b7aab7dcd29881
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">openeo</span>

<span class="n">con</span> <span class="o">=</span> <span class="n">openeo</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;https://openeo.dataspace.copernicus.eu&quot;</span><span class="p">)</span>
<span class="n">con</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">authenticate_oidc_device</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;✅ Berhasil terkoneksi ke OpenEO Dataspace!&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Akun login:&quot;</span><span class="p">,</span> <span class="n">con</span><span class="o">.</span><span class="n">describe_account</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<<<<<<< HEAD
<div class="output text_html">Visit <a href="https://identity.dataspace.copernicus.eu/auth/realms/CDSE/device?user_code=VVVS-BUEC" title="Authenticate at https://identity.dataspace.copernicus.eu/auth/realms/CDSE/device?user_code=VVVS-BUEC" target="_blank" rel="noopener noreferrer">https://identity.dataspace.copernicus.eu/auth/realms/CDSE/device?user_code=VVVS-BUEC</a> <a href="#" onclick="navigator.clipboard.writeText('https://identity.dataspace.copernicus.eu/auth/realms/CDSE/device?user_code=VVVS-BUEC');return false;" title="Copy authentication URL to clipboard">&#128203;</a> to authenticate.</div><div class="output text_html"><code>[###################################--]</code> ⌛ Authorization pending</div><div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
=======
<div class="output text_html">Visit <a href="https://identity.dataspace.copernicus.eu/auth/realms/CDSE/device?user_code=BOVF-NPKX" title="Authenticate at https://identity.dataspace.copernicus.eu/auth/realms/CDSE/device?user_code=BOVF-NPKX" target="_blank" rel="noopener noreferrer">https://identity.dataspace.copernicus.eu/auth/realms/CDSE/device?user_code=BOVF-NPKX</a> <a href="#" onclick="navigator.clipboard.writeText('https://identity.dataspace.copernicus.eu/auth/realms/CDSE/device?user_code=BOVF-NPKX');return false;" title="Copy authentication URL to clipboard">&#128203;</a> to authenticate.</div><div class="output text_html"><code>[###################################--]</code> ⌛ Authorization pending</div><div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
>>>>>>> ff8a6e6c9ed19be74b1219edc5b7aab7dcd29881
<span class="ne">KeyboardInterrupt</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">line</span> <span class="mi">4</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="kn">import</span><span class="w"> </span><span class="nn">openeo</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">con</span> <span class="o">=</span> <span class="n">openeo</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;https://openeo.dataspace.copernicus.eu&quot;</span><span class="p">)</span>
<span class="ne">----&gt; </span><span class="mi">4</span> <span class="n">con</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">authenticate_oidc_device</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;✅ Berhasil terkoneksi ke OpenEO Dataspace!&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Akun login:&quot;</span><span class="p">,</span> <span class="n">con</span><span class="o">.</span><span class="n">describe_account</span><span class="p">())</span>

<<<<<<< HEAD
<span class="nn">File ~\AppData\Local\Programs\Python\Python313\Lib\site-packages\openeo\rest\connection.py:537,</span> in <span class="ni">Connection.authenticate_oidc_device</span><span class="nt">(self, client_id, client_secret, provider_id, store_refresh_token, use_pkce, max_poll_time, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">530</span> <span class="n">provider_id</span><span class="p">,</span> <span class="n">client_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_oidc_provider_and_client_info</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">531</span>     <span class="n">provider_id</span><span class="o">=</span><span class="n">provider_id</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">532</span>     <span class="n">default_client_grant_check</span><span class="o">=</span><span class="p">(</span><span class="k">lambda</span> <span class="n">grants</span><span class="p">:</span> <span class="n">_g</span><span class="o">.</span><span class="n">DEVICE_CODE</span> <span class="ow">in</span> <span class="n">grants</span> <span class="ow">or</span> <span class="n">_g</span><span class="o">.</span><span class="n">DEVICE_CODE_PKCE</span> <span class="ow">in</span> <span class="n">grants</span><span class="p">),</span>
<span class="g g-Whitespace">    </span><span class="mi">533</span> <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">534</span> <span class="n">authenticator</span> <span class="o">=</span> <span class="n">OidcDeviceAuthenticator</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">535</span>     <span class="n">client_info</span><span class="o">=</span><span class="n">client_info</span><span class="p">,</span> <span class="n">use_pkce</span><span class="o">=</span><span class="n">use_pkce</span><span class="p">,</span> <span class="n">max_poll_time</span><span class="o">=</span><span class="n">max_poll_time</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<span class="g g-Whitespace">    </span><span class="mi">536</span> <span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">537</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_authenticate_oidc</span><span class="p">(</span><span class="n">authenticator</span><span class="p">,</span> <span class="n">provider_id</span><span class="o">=</span><span class="n">provider_id</span><span class="p">,</span> <span class="n">store_refresh_token</span><span class="o">=</span><span class="n">store_refresh_token</span><span class="p">)</span>

<span class="nn">File ~\AppData\Local\Programs\Python\Python313\Lib\site-packages\openeo\rest\connection.py:351,</span> in <span class="ni">Connection._authenticate_oidc</span><span class="nt">(self, authenticator, provider_id, store_refresh_token, fallback_refresh_token_to_store, oidc_auth_renewer)</span>
<span class="g g-Whitespace">    </span><span class="mi">339</span> <span class="k">def</span><span class="w"> </span><span class="nf">_authenticate_oidc</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">340</span>     <span class="bp">self</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">341</span>     <span class="n">authenticator</span><span class="p">:</span> <span class="n">OidcAuthenticator</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>    <span class="mi">346</span>     <span class="n">oidc_auth_renewer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">OidcAuthenticator</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">347</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Connection</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">348</span><span class="w">     </span><span class="sd">&quot;&quot;&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">349</span><span class="sd">     Authenticate through OIDC and set up bearer token (based on OIDC access_token) for further requests.</span>
<span class="g g-Whitespace">    </span><span class="mi">350</span><span class="sd">     &quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">351</span>     <span class="n">tokens</span> <span class="o">=</span> <span class="n">authenticator</span><span class="o">.</span><span class="n">get_tokens</span><span class="p">(</span><span class="n">request_refresh_token</span><span class="o">=</span><span class="n">store_refresh_token</span><span class="p">)</span>
<span class="nn">    352     _log.info(&quot;Obtained tokens: {t}&quot;.format(t=[k for k, v</span> in <span class="ni">tokens._asdict().items</span><span class="nt">() if v]))</span>
<span class="g g-Whitespace">    </span><span class="mi">353</span>     <span class="k">if</span> <span class="n">store_refresh_token</span><span class="p">:</span>

<span class="nn">File ~\AppData\Local\Programs\Python\Python313\Lib\site-packages\openeo\rest\auth\oidc.py:914,</span> in <span class="ni">OidcDeviceAuthenticator.get_tokens</span><span class="nt">(self, request_refresh_token)</span>
=======
<span class="nn">File ~\AppData\Local\Programs\Python\Python39\lib\site-packages\openeo\rest\connection.py:546,</span> in <span class="ni">Connection.authenticate_oidc_device</span><span class="nt">(self, client_id, client_secret, provider_id, store_refresh_token, use_pkce, max_poll_time, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">539</span> <span class="n">provider_id</span><span class="p">,</span> <span class="n">client_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_oidc_provider_and_client_info</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">540</span>     <span class="n">provider_id</span><span class="o">=</span><span class="n">provider_id</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=</span><span class="n">client_id</span><span class="p">,</span> <span class="n">client_secret</span><span class="o">=</span><span class="n">client_secret</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">541</span>     <span class="n">default_client_grant_check</span><span class="o">=</span><span class="p">(</span><span class="k">lambda</span> <span class="n">grants</span><span class="p">:</span> <span class="n">_g</span><span class="o">.</span><span class="n">DEVICE_CODE</span> <span class="ow">in</span> <span class="n">grants</span> <span class="ow">or</span> <span class="n">_g</span><span class="o">.</span><span class="n">DEVICE_CODE_PKCE</span> <span class="ow">in</span> <span class="n">grants</span><span class="p">),</span>
<span class="g g-Whitespace">    </span><span class="mi">542</span> <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">543</span> <span class="n">authenticator</span> <span class="o">=</span> <span class="n">OidcDeviceAuthenticator</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">544</span>     <span class="n">client_info</span><span class="o">=</span><span class="n">client_info</span><span class="p">,</span> <span class="n">use_pkce</span><span class="o">=</span><span class="n">use_pkce</span><span class="p">,</span> <span class="n">max_poll_time</span><span class="o">=</span><span class="n">max_poll_time</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<span class="g g-Whitespace">    </span><span class="mi">545</span> <span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">546</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_authenticate_oidc</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">547</span>     <span class="n">authenticator</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">548</span>     <span class="n">provider_id</span><span class="o">=</span><span class="n">provider_id</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">549</span>     <span class="n">store_refresh_token</span><span class="o">=</span><span class="n">store_refresh_token</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">550</span>     <span class="c1"># TODO: expose `auto_renew_from_refresh_token` directly as option instead of reusing `store_refresh_token` arg?</span>
<span class="g g-Whitespace">    </span><span class="mi">551</span>     <span class="n">auto_renew_from_refresh_token</span><span class="o">=</span><span class="n">store_refresh_token</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">552</span> <span class="p">)</span>

<span class="nn">File ~\AppData\Local\Programs\Python\Python39\lib\site-packages\openeo\rest\connection.py:353,</span> in <span class="ni">Connection._authenticate_oidc</span><span class="nt">(self, authenticator, provider_id, store_refresh_token, auto_renew_from_refresh_token, fallback_refresh_token, oidc_auth_renewer)</span>
<span class="g g-Whitespace">    </span><span class="mi">349</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">350</span><span class="sd"> Authenticate through OIDC and set up bearer token (based on OIDC access_token) for further requests.</span>
<span class="g g-Whitespace">    </span><span class="mi">351</span><span class="sd"> &quot;&quot;&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">352</span> <span class="n">request_refresh_token</span> <span class="o">=</span> <span class="n">store_refresh_token</span> <span class="ow">or</span> <span class="p">(</span><span class="ow">not</span> <span class="n">oidc_auth_renewer</span> <span class="ow">and</span> <span class="n">auto_renew_from_refresh_token</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">353</span> <span class="n">tokens</span> <span class="o">=</span> <span class="n">authenticator</span><span class="o">.</span><span class="n">get_tokens</span><span class="p">(</span><span class="n">request_refresh_token</span><span class="o">=</span><span class="n">request_refresh_token</span><span class="p">)</span>
<span class="nn">    354 _log.info(&quot;Obtained tokens: {t}&quot;.format(t=[k for k, v</span> in <span class="ni">tokens._asdict().items</span><span class="nt">() if v]))</span>
<span class="g g-Whitespace">    </span><span class="mi">356</span> <span class="n">refresh_token</span> <span class="o">=</span> <span class="n">tokens</span><span class="o">.</span><span class="n">refresh_token</span> <span class="ow">or</span> <span class="n">fallback_refresh_token</span>

<span class="nn">File ~\AppData\Local\Programs\Python\Python39\lib\site-packages\openeo\rest\auth\oidc.py:914,</span> in <span class="ni">OidcDeviceAuthenticator.get_tokens</span><span class="nt">(self, request_refresh_token)</span>
>>>>>>> ff8a6e6c9ed19be74b1219edc5b7aab7dcd29881
<span class="g g-Whitespace">    </span><span class="mi">912</span> <span class="k">while</span> <span class="n">elapsed</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_poll_time</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">913</span>     <span class="n">poll_ui</span><span class="o">.</span><span class="n">show_progress</span><span class="p">()</span>
<span class="ne">--&gt; </span><span class="mi">914</span>     <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">sleep</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">916</span>     <span class="k">if</span> <span class="n">elapsed</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="n">next_poll</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">917</span>         <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">918</span>             <span class="sa">f</span><span class="s2">&quot;Doing </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">grant_type</span><span class="si">!r}</span><span class="s2"> token request </span><span class="si">{</span><span class="n">token_endpoint</span><span class="si">!r}</span><span class="s2"> with post data fields </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">post_data</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">!r}</span><span class="s2"> (client_id </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="si">!r}</span><span class="s2">)&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">919</span>         <span class="p">)</span>

<span class="ne">KeyboardInterrupt</span>: 
</pre></div>
</div>
</div>
</div>
<p>Untuk code di atas, nantinya kalian akan diminta masuk ke link untuk melakukan verifikasi. Kemudian kalian akan dibawa ke halaman pada 2 gambar berikut. Setelah halaman sukses ditampilkan, kembali ke halaman code ini. Maka nanti akan muncul output seperti diatas.</p>
<p><img alt="Grafik Minimum" src="_images/Screenshot%2867%29.png" /></p>
<p><img alt="Grafik Minimum" src="_images/Screenshot%2868%29.png" /></p>
<p>Pada tahap ini, data yang ada di geojson yaitu koordinat lokasi analasisi NO2 akan dibaca. Memuat lokasi, rentang waktu, dan titik koordinatnya.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">shapely.geometry</span><span class="w"> </span><span class="kn">import</span> <span class="n">shape</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">IPython.display</span><span class="w"> </span><span class="kn">import</span> <span class="n">display</span>

<span class="n">aoi</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;FeatureCollection&quot;</span><span class="p">,</span>
  <span class="s2">&quot;features&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Feature&quot;</span><span class="p">,</span>
      <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{},</span>
      <span class="s2">&quot;geometry&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">[</span>
            <span class="p">[</span><span class="mf">111.4643221840982</span><span class="p">,</span> <span class="o">-</span><span class="mf">7.219197481668942</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">111.4643221840982</span><span class="p">,</span> <span class="o">-</span><span class="mf">7.228587340977498</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">111.47274765949288</span><span class="p">,</span> <span class="o">-</span><span class="mf">7.228587340977498</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">111.47274765949288</span><span class="p">,</span> <span class="o">-</span><span class="mf">7.219197481668942</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">111.4643221840982</span><span class="p">,</span> <span class="o">-</span><span class="mf">7.219197481668942</span><span class="p">]</span>
          <span class="p">]</span>
        <span class="p">],</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Polygon&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>

<span class="n">geom</span> <span class="o">=</span> <span class="n">shape</span><span class="p">(</span><span class="n">aoi</span><span class="p">[</span><span class="s2">&quot;features&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;geometry&quot;</span><span class="p">])</span>
<span class="n">minx</span><span class="p">,</span> <span class="n">miny</span><span class="p">,</span> <span class="n">maxx</span><span class="p">,</span> <span class="n">maxy</span> <span class="o">=</span> <span class="n">geom</span><span class="o">.</span><span class="n">bounds</span>
<span class="n">lon</span> <span class="o">=</span> <span class="p">(</span><span class="n">minx</span> <span class="o">+</span> <span class="n">maxx</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
<span class="n">lat</span> <span class="o">=</span> <span class="p">(</span><span class="n">miny</span> <span class="o">+</span> <span class="n">maxy</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📍 Lokasi AOI: Mojorembun, Cepu&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Koordinat tengah -&gt; lat: </span><span class="si">{</span><span class="n">lat</span><span class="si">:</span><span class="s2">.6f</span><span class="si">}</span><span class="s2">, lon: </span><span class="si">{</span><span class="n">lon</span><span class="si">:</span><span class="s2">.6f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">start_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">end_date</span>   <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🗓️ Rentang data: </span><span class="si">{</span><span class="n">start_date</span><span class="o">.</span><span class="n">date</span><span class="p">()</span><span class="si">}</span><span class="s2"> s.d. </span><span class="si">{</span><span class="n">end_date</span><span class="o">.</span><span class="n">date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>📍 Lokasi AOI: Mojorembun, Cepu
Koordinat tengah -&gt; lat: -7.223892, lon: 111.468535
🗓️ Rentang data: 2025-08-01 s.d. 2025-10-01
</pre></div>
</div>
</div>
</div>
</section>
<section id="timeseries-konsentrasi-no2-per-jam">
<h3>Timeseries Konsentrasi NO2 per Jam<a class="headerlink" href="#timeseries-konsentrasi-no2-per-jam" title="Link to this heading">#</a></h3>
<p>Dataset ini merupakan simulasi konsentrasi NO₂ per jam dalam rentang waktu tertentu. Tiap titik waktu merepresentasikan satu jam, dan nilai konsentrasi dibuat secara acak antara 0,0005–0,003 mol/m² dengan np.random.seed(42) agar hasil reproducible. Data disusun dalam dua kolom: Waktu untuk timestamp dan Konsentrasi_NO2 (mol/m²) untuk nilai konsentrasi. Dataset disimpan ke CSV (no2_awal_perjam.csv) dan dilengkapi informasi jumlah baris serta statistik deskriptif (min, max, rata-rata, standar deviasi) untuk memberi gambaran awal distribusi nilai NO₂. Dataset ini siap digunakan untuk analisis tren harian, visualisasi, atau pemodelan prediktif time series.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dates</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">start_date</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">end_date</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;h&#39;</span><span class="p">)[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="n">no2_values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.0005</span><span class="p">,</span> <span class="mf">0.003</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">dates</span><span class="p">))</span> 

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;Waktu&#39;</span><span class="p">:</span> <span class="n">dates</span><span class="p">,</span>
    <span class="s1">&#39;Konsentrasi_NO2 (mol/m²)&#39;</span><span class="p">:</span> <span class="n">no2_values</span>
<span class="p">})</span>

<span class="n">display</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>

<span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;no2_awal_perjam.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">📊 Jumlah baris data: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">📈 Deskripsi statistik data NO₂:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Konsentrasi_NO2 (mol/m²)&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Waktu</th>
      <th>Konsentrasi_NO2 (mol/m²)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2025-08-01 00:00:00</td>
      <td>0.001436</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2025-08-01 01:00:00</td>
      <td>0.002877</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2025-08-01 02:00:00</td>
      <td>0.002330</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2025-08-01 03:00:00</td>
      <td>0.001997</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2025-08-01 04:00:00</td>
      <td>0.000890</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2025-08-01 05:00:00</td>
      <td>0.000890</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2025-08-01 06:00:00</td>
      <td>0.000645</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2025-08-01 07:00:00</td>
      <td>0.002665</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2025-08-01 08:00:00</td>
      <td>0.002003</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2025-08-01 09:00:00</td>
      <td>0.002270</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>📊 Jumlah baris data: 1488

📈 Deskripsi statistik data NO₂:
count    1488.000000
mean        0.001749
std         0.000736
min         0.000512
25%         0.001094
50%         0.001769
75%         0.002388
max         0.002999
Name: Konsentrasi_NO2 (mol/m²), dtype: float64
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="preprocessing">
<h2>Preprocessing<a class="headerlink" href="#preprocessing" title="Link to this heading">#</a></h2>
<section id="pemrosesan-missing-value">
<h3>Pemrosesan Missing Value<a class="headerlink" href="#pemrosesan-missing-value" title="Link to this heading">#</a></h3>
<p>Dataset NO₂ per jam telah dibersihkan dari duplikat dan nilai kosong diisi menggunakan forward fill. Kolom Konsentrasi_NO2 (mol/m²) dinormalisasi ke rentang 0–1 menggunakan Min-Max Scaling dan disimpan di kolom NO2_Normalized. Setelah preprocessing, dataset memiliki 1488 baris. Statistik deskriptif nilai normalisasi menunjukkan distribusi konsentrasi NO₂: mean 0,498, standar deviasi 0,296, minimum 0, maksimum 1, serta kuartil 25% = 0,234, 50% = 0,505, dan 75% = 0,754. Dataset ini siap untuk analisis tren, visualisasi, atau pemodelan prediktif time series.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;no2_awal_perjam.csv&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Waktu&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Waktu&#39;</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Pemeriksaan Data:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Jumlah duplikat: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">duplicated</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">📋 Contoh data:&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">📊 Statistik deskriptif:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">📈 Jumlah total baris data: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Pemeriksaan Data:
Waktu                       0
Konsentrasi_NO2 (mol/m²)    0
dtype: int64
Jumlah duplikat: 0

📋 Contoh data:
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Waktu</th>
      <th>Konsentrasi_NO2 (mol/m²)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2025-08-01 00:00:00</td>
      <td>0.001436</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2025-08-01 01:00:00</td>
      <td>0.002877</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2025-08-01 02:00:00</td>
      <td>0.002330</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2025-08-01 03:00:00</td>
      <td>0.001997</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2025-08-01 04:00:00</td>
      <td>0.000890</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2025-08-01 05:00:00</td>
      <td>0.000890</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2025-08-01 06:00:00</td>
      <td>0.000645</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2025-08-01 07:00:00</td>
      <td>0.002665</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2025-08-01 08:00:00</td>
      <td>0.002003</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2025-08-01 09:00:00</td>
      <td>0.002270</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>📊 Statistik deskriptif:
                               Waktu  Konsentrasi_NO2 (mol/m²)
count                           1488               1488.000000
mean   2025-08-31 23:29:59.999999744                  0.001749
min              2025-08-01 00:00:00                  0.000512
25%              2025-08-16 11:45:00                  0.001094
50%              2025-08-31 23:30:00                  0.001769
75%              2025-09-16 11:15:00                  0.002388
max              2025-10-01 23:00:00                  0.002999
std                              NaN                  0.000736

📈 Jumlah total baris data: 1488
</pre></div>
</div>
</div>
</div>
</section>
<section id="split-data">
<h3>Split Data<a class="headerlink" href="#split-data" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;no2_awal_perjam.csv&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Waktu&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Waktu&#39;</span><span class="p">])</span>

<span class="n">lag</span> <span class="o">=</span> <span class="mi">3</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">lag</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
    <span class="n">df</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;LAG-</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Konsentrasi_NO2 (mol/m²)&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="sa">f</span><span class="s2">&quot;LAG-</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">lag</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Konsentrasi_NO2 (mol/m²)&#39;</span><span class="p">]</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;✅ Data berhasil dipisah:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Data training: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span><span class="si">}</span><span class="s2"> baris&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Data testing: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span><span class="si">}</span><span class="s2"> baris&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">📋 10 baris pertama data training:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">X_train</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">📋 10 baris pertama data testing:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">X_test</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>✅ Data berhasil dipisah:
Data training: 1188 baris
Data testing: 297 baris

📋 10 baris pertama data training:
      LAG-1     LAG-2     LAG-3
0  0.002330  0.002877  0.001436
1  0.001997  0.002330  0.002877
2  0.000890  0.001997  0.002330
3  0.000890  0.000890  0.001997
4  0.000645  0.000890  0.000890
5  0.002665  0.000645  0.000890
6  0.002003  0.002665  0.000645
7  0.002270  0.002003  0.002665
8  0.000551  0.002270  0.002003
9  0.002925  0.000551  0.002270

📋 10 baris pertama data testing:
         LAG-1     LAG-2     LAG-3
1188  0.000668  0.002270  0.001252
1189  0.001955  0.000668  0.002270
1190  0.001365  0.001955  0.000668
1191  0.002052  0.001365  0.001955
1192  0.000614  0.002052  0.001365
1193  0.002679  0.000614  0.002052
1194  0.002934  0.002679  0.000614
1195  0.002922  0.002934  0.002679
1196  0.002374  0.002922  0.002934
1197  0.000825  0.002374  0.002922
</pre></div>
</div>
</div>
</div>
</section>
<section id="normalisasi-data-mengguakan-minmaxscaler">
<h3>Normalisasi Data Mengguakan MinMaxScaler<a class="headerlink" href="#normalisasi-data-mengguakan-minmaxscaler" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">MinMaxScaler</span>

<span class="n">scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">()</span>
<span class="n">X_train_scaled</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="n">X_train</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="n">X_test_scaled</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="n">X_test</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">📋 10 baris pertama data training (normalisasi):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">X_train_scaled</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">📋 10 baris pertama data testing (normalisasi):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">X_test_scaled</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>📋 10 baris pertama data training (normalisasi):
      LAG-1     LAG-2     LAG-3
0  0.730954  0.950755  0.371735
1  0.596960  0.730954  0.950755
2  0.152134  0.596960  0.730954
3  0.152110  0.152134  0.596960
4  0.053716  0.152110  0.152134
5  0.865799  0.053716  0.152110
6  0.599429  0.865799  0.053716
7  0.706915  0.599429  0.865799
8  0.016031  0.706915  0.599429
9  0.970045  0.016031  0.706915

📋 10 baris pertama data testing (normalisasi):
      LAG-1     LAG-2     LAG-3
0  0.063028  0.707015  0.297795
1  0.580391  0.063028  0.707015
2  0.342936  0.580391  0.063028
3  0.619327  0.342936  0.580391
4  0.041313  0.619327  0.342936
5  0.871186  0.041313  0.619327
6  0.973642  0.871186  0.041313
7  0.969008  0.973642  0.871186
8  0.748699  0.969008  0.973642
9  0.126074  0.748699  0.969008
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="transformasi-data-timeseries-menjadi-supervised-learning-dengan-fitur-lag">
<h2>Transformasi Data Timeseries Menjadi Supervised Learning Dengan Fitur Lag<a class="headerlink" href="#transformasi-data-timeseries-menjadi-supervised-learning-dengan-fitur-lag" title="Link to this heading">#</a></h2>
<p>Proses ini mengubah data konsentrasi NO₂ berbasis waktu menjadi bentuk yang dapat digunakan untuk pemodelan prediksi. Data waktu terlebih dahulu diubah menjadi format datetime dan diurutkan secara kronologis. Selanjutnya, dibuat tiga fitur lag (LAG-1, LAG-2, LAG-3) yang merepresentasikan nilai konsentrasi pada beberapa waktu sebelumnya. Setelah baris dengan nilai kosong dihapus, dihasilkan tabel berisi tanggal, nilai-nilai lag, dan target konsentrasi terkini yang siap digunakan untuk pelatihan model prediksi deret waktu.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Waktu&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Waktu&#39;</span><span class="p">])</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Waktu&#39;</span><span class="p">)</span>

<span class="n">n_lag</span> <span class="o">=</span> <span class="mi">3</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_lag</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">df</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;lag_</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Konsentrasi_NO2 (mol/m²)&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="n">supervised_df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">table</span> <span class="o">=</span> <span class="n">supervised_df</span><span class="p">[[</span><span class="s1">&#39;Waktu&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="sa">f</span><span class="s1">&#39;lag_</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_lag</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;Konsentrasi_NO2 (mol/m²)&#39;</span><span class="p">]]</span>
<span class="n">table</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="sa">f</span><span class="s1">&#39;LAG-</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_lag</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)]</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;Target&#39;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>              Tanggal     LAG-3     LAG-2     LAG-1    Target
0 2025-08-01 06:00:00  0.000890  0.000890  0.001997  0.000645
1 2025-08-01 07:00:00  0.000645  0.000890  0.000890  0.002665
2 2025-08-01 08:00:00  0.002665  0.000645  0.000890  0.002003
3 2025-08-01 09:00:00  0.002003  0.002665  0.000645  0.002270
4 2025-08-01 10:00:00  0.002270  0.002003  0.002665  0.000551
5 2025-08-01 11:00:00  0.000551  0.002270  0.002003  0.002925
6 2025-08-01 12:00:00  0.002925  0.000551  0.002270  0.002581
7 2025-08-01 13:00:00  0.002581  0.002925  0.000551  0.001031
8 2025-08-01 14:00:00  0.001031  0.002581  0.002925  0.000955
9 2025-08-01 15:00:00  0.000955  0.001031  0.002581  0.000959
</pre></div>
</div>
</div>
</div>
</section>
<section id="analisis-kondisi-no2-menggunakan-knn-regression-dan-random-forest">
<h2>Analisis Kondisi NO2 Menggunakan KNN Regression dan Random Forest<a class="headerlink" href="#analisis-kondisi-no2-menggunakan-knn-regression-dan-random-forest" title="Link to this heading">#</a></h2>
<section id="pemodelan-prediksi-konsentrasi-no2-menggunakan-model-knn">
<h3>Pemodelan Prediksi Konsentrasi NO2 Menggunakan Model KNN<a class="headerlink" href="#pemodelan-prediksi-konsentrasi-no2-menggunakan-model-knn" title="Link to this heading">#</a></h3>
<p>Pemodelan prediksi konsentrasi NO₂ dilakukan menggunakan algoritma K-Nearest Neighbors (KNN) Regression. Model ini bekerja dengan prinsip bahwa nilai prediksi suatu data ditentukan berdasarkan kedekatannya dengan sejumlah titik data lain di sekitarnya. Pada penelitian ini, jumlah tetangga yang digunakan adalah lima (k = 5), sehingga setiap nilai prediksi diestimasi berdasarkan rata-rata dari lima data historis terdekat setelah melalui proses normalisasi menggunakan MinMaxScaler agar seluruh fitur berada dalam rentang nilai yang seragam.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">MinMaxScaler</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.neighbors</span><span class="w"> </span><span class="kn">import</span> <span class="n">KNeighborsRegressor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">mean_squared_error</span><span class="p">,</span> <span class="n">r2_score</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">table</span><span class="p">[[</span><span class="s1">&#39;LAG-3&#39;</span><span class="p">,</span> <span class="s1">&#39;LAG-2&#39;</span><span class="p">,</span> <span class="s1">&#39;LAG-1&#39;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">table</span><span class="p">[</span><span class="s1">&#39;Target&#39;</span><span class="p">]</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">()</span>
<span class="n">X_train_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">X_test_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="n">knn</span> <span class="o">=</span> <span class="n">KNeighborsRegressor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">knn</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_scaled</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="n">y_pred</span> <span class="o">=</span> <span class="n">knn</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_scaled</span><span class="p">)</span>
<span class="n">r2</span> <span class="o">=</span> <span class="n">r2_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;📊 Hasil Evaluasi Model KNN:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;R² Score: </span><span class="si">{</span><span class="n">r2</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">hasil_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;Aktual&#39;</span><span class="p">:</span> <span class="n">y_test</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
    <span class="s1">&#39;Prediksi&#39;</span><span class="p">:</span> <span class="n">y_pred</span>
<span class="p">})</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">📋 10 baris pertama hasil prediksi:&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">hasil_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>

<span class="n">hasil_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;hasil_prediksi_knn.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>📊 Hasil Evaluasi Model KNN:
R² Score: -0.2057

📋 10 baris pertama hasil prediksi:
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Aktual</th>
      <th>Prediksi</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.001955</td>
      <td>0.001464</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.001365</td>
      <td>0.001891</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.002052</td>
      <td>0.002298</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.000614</td>
      <td>0.001146</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.002679</td>
      <td>0.001495</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0.002934</td>
      <td>0.002160</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0.002922</td>
      <td>0.001965</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.002374</td>
      <td>0.001664</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0.000825</td>
      <td>0.001465</td>
    </tr>
    <tr>
      <th>9</th>
      <td>0.002396</td>
      <td>0.001590</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="evaluasi-model-k-nearest-neighbors-knn">
<h3>Evaluasi Model K-Nearest Neighbors (KNN)<a class="headerlink" href="#evaluasi-model-k-nearest-neighbors-knn" title="Link to this heading">#</a></h3>
<p>Proses pengujian dilakukan dengan membagi dataset menjadi 80% data latih dan 20% data uji, tanpa pengacakan urutan data agar tetap merepresentasikan urutan waktu (time series). Setelah dilakukan pelatihan, model diuji untuk menghasilkan nilai prediksi yang kemudian dibandingkan dengan data aktual.</p>
<p>Nilai MAPE menunjukkan bahwa tingkat kesalahan prediksi rata-rata mencapai sekitar 55%, yang berarti model masih memiliki tingkat akurasi yang rendah. Meskipun demikian, hasil prediksi tetap memperlihatkan pola yang mirip dengan tren data aktual, sehingga model masih mampu mengenali arah perubahan nilai konsentrasi NO₂.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">MinMaxScaler</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.neighbors</span><span class="w"> </span><span class="kn">import</span> <span class="n">KNeighborsRegressor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">mean_absolute_percentage_error</span><span class="p">,</span> <span class="n">mean_squared_error</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">table</span><span class="p">[[</span><span class="s1">&#39;LAG-3&#39;</span><span class="p">,</span> <span class="s1">&#39;LAG-2&#39;</span><span class="p">,</span> <span class="s1">&#39;LAG-1&#39;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">table</span><span class="p">[</span><span class="s1">&#39;Target&#39;</span><span class="p">]</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>

<span class="n">scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">()</span>
<span class="n">X_train_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">X_test_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="n">knn</span> <span class="o">=</span> <span class="n">KNeighborsRegressor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">knn</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_scaled</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="n">y_pred</span> <span class="o">=</span> <span class="n">knn</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_scaled</span><span class="p">)</span>

<span class="n">mape_total</span> <span class="o">=</span> <span class="n">mean_absolute_percentage_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
<span class="n">mse</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="n">rmse</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mse</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;MAPE (rata-rata): </span><span class="si">{</span><span class="n">mape_total</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;MSE: </span><span class="si">{</span><span class="n">mse</span><span class="si">:</span><span class="s2">.10f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;RMSE: </span><span class="si">{</span><span class="n">rmse</span><span class="si">:</span><span class="s2">.10f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">hasil_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;Tanggal&#39;</span><span class="p">:</span> <span class="n">table</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">y_test</span><span class="o">.</span><span class="n">index</span><span class="p">][</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
    <span class="s1">&#39;Aktual&#39;</span><span class="p">:</span> <span class="n">y_test</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
    <span class="s1">&#39;Prediksi&#39;</span><span class="p">:</span> <span class="n">y_pred</span>
<span class="p">})</span>

<span class="n">hasil_df</span><span class="p">[</span><span class="s1">&#39;Error (%)&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">((</span><span class="n">hasil_df</span><span class="p">[</span><span class="s1">&#39;Aktual&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">hasil_df</span><span class="p">[</span><span class="s1">&#39;Prediksi&#39;</span><span class="p">])</span> <span class="o">/</span> <span class="n">hasil_df</span><span class="p">[</span><span class="s1">&#39;Aktual&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100</span>

<span class="n">hasil_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;hasil_model_knn.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">📊 10 baris pertama hasil prediksi:&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">hasil_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>MAPE (rata-rata): 55.01%
MSE: 0.0000006598
RMSE: 0.0008122679

📊 10 baris pertama hasil prediksi:
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tanggal</th>
      <th>Aktual</th>
      <th>Prediksi</th>
      <th>Error (%)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2025-09-19 15:00:00</td>
      <td>0.001955</td>
      <td>0.001464</td>
      <td>25.141705</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2025-09-19 16:00:00</td>
      <td>0.001365</td>
      <td>0.001891</td>
      <td>38.536956</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2025-09-19 17:00:00</td>
      <td>0.002052</td>
      <td>0.002298</td>
      <td>11.979365</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2025-09-19 18:00:00</td>
      <td>0.000614</td>
      <td>0.001146</td>
      <td>86.591857</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2025-09-19 19:00:00</td>
      <td>0.002679</td>
      <td>0.001495</td>
      <td>44.198222</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2025-09-19 20:00:00</td>
      <td>0.002934</td>
      <td>0.002160</td>
      <td>26.373752</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2025-09-19 21:00:00</td>
      <td>0.002922</td>
      <td>0.001965</td>
      <td>32.758799</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2025-09-19 22:00:00</td>
      <td>0.002374</td>
      <td>0.001664</td>
      <td>29.930571</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2025-09-19 23:00:00</td>
      <td>0.000825</td>
      <td>0.001465</td>
      <td>77.480006</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2025-09-20 00:00:00</td>
      <td>0.002396</td>
      <td>0.001590</td>
      <td>33.638664</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="visualisasi-prediksi-no2-menggunakan-k-nearest-neighbors-knn">
<h3>Visualisasi Prediksi NO2 Menggunakan K-Nearest Neighbors (KNN)<a class="headerlink" href="#visualisasi-prediksi-no2-menggunakan-k-nearest-neighbors-knn" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">hasil_df</span><span class="p">[</span><span class="s1">&#39;Aktual&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Aktual&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">hasil_df</span><span class="p">[</span><span class="s1">&#39;Prediksi&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Prediksi&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Aktual vs Prediksi NO₂&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Index / Waktu&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Konsentrasi NO₂ (mol/m²)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/3db202fe23915300f17a07dc9ad9946d4f6f68ca35b84d0374597ecff2cd3fcf.png" src="_images/3db202fe23915300f17a07dc9ad9946d4f6f68ca35b84d0374597ecff2cd3fcf.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">hasil_df</span><span class="p">[</span><span class="s1">&#39;Error (%)&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;purple&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Persentase Error per Baris (Error %)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Index / Waktu&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Error (%)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/6c88fafe18eeaa747397e0518bc0fe607342719b424f3fab8e99806acb92f0b6.png" src="_images/6c88fafe18eeaa747397e0518bc0fe607342719b424f3fab8e99806acb92f0b6.png" />
</div>
</div>
<p>Berdasarkan hasil evaluasi model K-Nearest Neighbors (KNN) yang digunakan untuk memprediksi konsentrasi NO₂, diperoleh nilai MAPE sebesar 55,01%, MSE sebesar 0,0000006598, dan RMSE sebesar 0,0008122679. Nilai MAPE tersebut menunjukkan bahwa tingkat kesalahan rata-rata prediksi model mencapai sekitar 55% dari nilai aktual. Jika dibandingkan dengan standar umum, model dengan MAPE di bawah 10% dianggap sangat akurat, 10–20% tergolong baik, 20–50% cukup, dan di atas 50% dikategorikan kurang akurat. Dengan demikian, model KNN pada penelitian ini masih memiliki tingkat akurasi yang rendah dan belum mampu memprediksi nilai konsentrasi NO₂ dengan baik.</p>
<p>Meskipun pola prediksi secara visual sudah cukup mengikuti arah pergerakan data aktual, nilai kesalahan yang tinggi mengindikasikan bahwa model belum mampu menangkap kompleksitas hubungan antar waktu secara optimal. Hal ini bisa disebabkan oleh jumlah tetangga (k) yang belum optimal atau jumlah fitur lag yang masih terbatas. Oleh karena itu, diperlukan langkah lanjutan seperti optimasi parameter KNN atau penambahan jumlah lag untuk meningkatkan kemampuan model dalam memprediksi konsentrasi NO₂ secara lebih akurat.</p>
<p>Secara keseluruhan, hasil ini menunjukkan bahwa KNN Regression belum optimal untuk kasus ini. Performa model dapat ditingkatkan dengan melakukan tuning parameter k, menambah jumlah lag variabel, atau menggunakan algoritma yang lebih adaptif terhadap data deret waktu, seperti Random Forest atau LSTM.</p>
</section>
</section>
<section id="pemodelan-prediksi-konsentrasi-no2-menggunakan-model-random-forest">
<h2>Pemodelan Prediksi Konsentrasi NO₂ Menggunakan Model Random Forest<a class="headerlink" href="#pemodelan-prediksi-konsentrasi-no2-menggunakan-model-random-forest" title="Link to this heading">#</a></h2>
<p>Pada tahap ini dilakukan proses pemodelan untuk memprediksi konsentrasi NO₂ berdasarkan nilai lag sebelumnya. Data dibagi menjadi data latih dan data uji dengan rasio 80:20 tanpa pengacakan agar urutan waktu tetap terjaga. Model Random Forest Regressor digunakan karena mampu menangkap hubungan non-linear antar variabel. Setelah model dilatih dengan data latih, hasil prediksi dibandingkan dengan data aktual menggunakan metrik Mean Squared Error (MSE) untuk mengukur kesalahan, dan R² Score untuk menilai seberapa baik model menjelaskan variasi data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">MinMaxScaler</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.ensemble</span><span class="w"> </span><span class="kn">import</span> <span class="n">RandomForestRegressor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">r2_score</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">table</span><span class="p">[[</span><span class="s1">&#39;LAG-3&#39;</span><span class="p">,</span> <span class="s1">&#39;LAG-2&#39;</span><span class="p">,</span> <span class="s1">&#39;LAG-1&#39;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">table</span><span class="p">[</span><span class="s1">&#39;Target&#39;</span><span class="p">]</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>

<span class="n">scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">()</span>
<span class="n">X_train_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">X_test_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="n">rf</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">rf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_scaled</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="n">y_pred</span> <span class="o">=</span> <span class="n">rf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_scaled</span><span class="p">)</span>
<span class="n">r2</span> <span class="o">=</span> <span class="n">r2_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;📊 Hasil Evaluasi Model Random Forest:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;R² Score: </span><span class="si">{</span><span class="n">r2</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">hasil_rf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;Aktual&#39;</span><span class="p">:</span> <span class="n">y_test</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
    <span class="s1">&#39;Prediksi&#39;</span><span class="p">:</span> <span class="n">y_pred</span>
<span class="p">})</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">📋 10 baris pertama hasil prediksi:&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">hasil_rf</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>

<span class="n">hasil_rf</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;hasil_prediksi_random_forest.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>📊 Hasil Evaluasi Model Random Forest:
R² Score: -0.1216

📋 10 baris pertama hasil prediksi:
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Aktual</th>
      <th>Prediksi</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.001955</td>
      <td>0.001677</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.001365</td>
      <td>0.001799</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.002052</td>
      <td>0.002158</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.000614</td>
      <td>0.001764</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.002679</td>
      <td>0.001544</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0.002934</td>
      <td>0.002355</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0.002922</td>
      <td>0.002114</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.002374</td>
      <td>0.001877</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0.000825</td>
      <td>0.001764</td>
    </tr>
    <tr>
      <th>9</th>
      <td>0.002396</td>
      <td>0.002205</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<section id="evaluasi-model-random-forest">
<h3>Evaluasi Model Random Forest<a class="headerlink" href="#evaluasi-model-random-forest" title="Link to this heading">#</a></h3>
<p>Nilai MAPE sebesar 53.68% menandakan bahwa tingkat kesalahan relatif prediksi masih cukup tinggi karena idealnya MAPE berada di bawah 20% untuk kategori akurasi baik. Meski demikian, performa ini sedikit lebih baik dibandingkan model KNN yang memiliki MAPE 55.01%. Hal ini menunjukkan bahwa Random Forest mampu memberikan prediksi yang sedikit lebih akurat dalam memperkirakan konsentrasi NO₂, meskipun model masih perlu penyempurnaan lebih lanjut seperti tuning parameter atau penambahan fitur tambahan.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">MinMaxScaler</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.ensemble</span><span class="w"> </span><span class="kn">import</span> <span class="n">RandomForestRegressor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">mean_absolute_percentage_error</span><span class="p">,</span> <span class="n">mean_squared_error</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">table</span><span class="p">[[</span><span class="s1">&#39;LAG-3&#39;</span><span class="p">,</span> <span class="s1">&#39;LAG-2&#39;</span><span class="p">,</span> <span class="s1">&#39;LAG-1&#39;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">table</span><span class="p">[</span><span class="s1">&#39;Target&#39;</span><span class="p">]</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>

<span class="n">scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">()</span>
<span class="n">X_train_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">X_test_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="n">rf</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">rf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_scaled</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="n">y_pred</span> <span class="o">=</span> <span class="n">rf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_scaled</span><span class="p">)</span>

<span class="n">mape_total</span> <span class="o">=</span> <span class="n">mean_absolute_percentage_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
<span class="n">mse</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="n">rmse</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mse</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;MAPE (rata-rata): </span><span class="si">{</span><span class="n">mape_total</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;MSE: </span><span class="si">{</span><span class="n">mse</span><span class="si">:</span><span class="s2">.10f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;RMSE: </span><span class="si">{</span><span class="n">rmse</span><span class="si">:</span><span class="s2">.10f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">hasil_rf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;Tanggal&#39;</span><span class="p">:</span> <span class="n">table</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">y_test</span><span class="o">.</span><span class="n">index</span><span class="p">][</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
    <span class="s1">&#39;Aktual&#39;</span><span class="p">:</span> <span class="n">y_test</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
    <span class="s1">&#39;Prediksi&#39;</span><span class="p">:</span> <span class="n">y_pred</span>
<span class="p">})</span>

<span class="n">hasil_rf</span><span class="p">[</span><span class="s1">&#39;Error (%)&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">((</span><span class="n">hasil_rf</span><span class="p">[</span><span class="s1">&#39;Aktual&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">hasil_rf</span><span class="p">[</span><span class="s1">&#39;Prediksi&#39;</span><span class="p">])</span> <span class="o">/</span> <span class="n">hasil_rf</span><span class="p">[</span><span class="s1">&#39;Aktual&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100</span>

<span class="n">hasil_rf</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;hasil_model_random_forest.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">📊 10 baris pertama hasil prediksi:&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">hasil_rf</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>MAPE (rata-rata): 53.68%
MSE: 0.0000006137
RMSE: 0.0007834073

📊 10 baris pertama hasil prediksi:
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tanggal</th>
      <th>Aktual</th>
      <th>Prediksi</th>
      <th>Error (%)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2025-09-19 15:00:00</td>
      <td>0.001955</td>
      <td>0.001677</td>
      <td>14.245320</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2025-09-19 16:00:00</td>
      <td>0.001365</td>
      <td>0.001799</td>
      <td>31.818127</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2025-09-19 17:00:00</td>
      <td>0.002052</td>
      <td>0.002158</td>
      <td>5.167084</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2025-09-19 18:00:00</td>
      <td>0.000614</td>
      <td>0.001764</td>
      <td>187.066658</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2025-09-19 19:00:00</td>
      <td>0.002679</td>
      <td>0.001544</td>
      <td>42.379708</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2025-09-19 20:00:00</td>
      <td>0.002934</td>
      <td>0.002355</td>
      <td>19.720554</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2025-09-19 21:00:00</td>
      <td>0.002922</td>
      <td>0.002114</td>
      <td>27.650012</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2025-09-19 22:00:00</td>
      <td>0.002374</td>
      <td>0.001877</td>
      <td>20.921659</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2025-09-19 23:00:00</td>
      <td>0.000825</td>
      <td>0.001764</td>
      <td>113.717395</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2025-09-20 00:00:00</td>
      <td>0.002396</td>
      <td>0.002205</td>
      <td>7.940394</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
<section id="visualisasi-hasil-prediksi-konsentrasi-no2-menggunakan-random-forest">
<h2>Visualisasi Hasil Prediksi Konsentrasi NO₂ Menggunakan Random Forest<a class="headerlink" href="#visualisasi-hasil-prediksi-konsentrasi-no2-menggunakan-random-forest" title="Link to this heading">#</a></h2>
<p>Kode ini menampilkan perbandingan antara nilai aktual dan hasil prediksi konsentrasi NO₂ pada data uji. Model Random Forest Regressor digunakan untuk memprediksi nilai berdasarkan tiga lag sebelumnya. Grafik menunjukkan tren data aktual (garis biru) dan hasil prediksi model (garis merah), sehingga dapat dilihat seberapa baik model mengikuti pola perubahan konsentrasi NO₂ dari waktu ke waktu.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">hasil_df</span><span class="p">[</span><span class="s1">&#39;Aktual&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Aktual&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">hasil_df</span><span class="p">[</span><span class="s1">&#39;Prediksi&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Prediksi&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">hasil_df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">hasil_df</span><span class="p">[</span><span class="s1">&#39;Aktual&#39;</span><span class="p">],</span> <span class="n">hasil_df</span><span class="p">[</span><span class="s1">&#39;Prediksi&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Error&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Aktual vs Prediksi NO₂ (Random Forest) dengan Area Error&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Index / Waktu&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Konsentrasi NO₂ (mol/m²)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">hasil_df</span><span class="p">[</span><span class="s1">&#39;Error (%)&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;purple&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Persentase Error per Baris (Random Forest)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Index / Waktu&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Error (%)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/c684df704a0243f1cf9f58a44d361f58f710665287916574479c82ce534a4033.png" src="_images/c684df704a0243f1cf9f58a44d361f58f710665287916574479c82ce534a4033.png" />
<img alt="_images/771a8e584df1350d8d61c221c5cf7c53ca2129b9c4047a92ba82c1ea45dd2209.png" src="_images/771a8e584df1350d8d61c221c5cf7c53ca2129b9c4047a92ba82c1ea45dd2209.png" />
</div>
</div>
<section id="perbandingan-model-menggunakan-knn-dan-random-forest">
<h3>Perbandingan Model Menggunakan KNN dan Random Forest<a class="headerlink" href="#perbandingan-model-menggunakan-knn-dan-random-forest" title="Link to this heading">#</a></h3>
<p>Berdasarkan hasil evaluasi, model KNN Regression memperoleh nilai MAPE sebesar 55.01%, sedangkan Random Forest Regression menghasilkan MAPE sebesar 53.68%. Perbedaan ini menunjukkan bahwa Random Forest memiliki kinerja prediksi yang sedikit lebih baik dibandingkan KNN, dengan tingkat kesalahan yang lebih rendah. Hal ini disebabkan karena Random Forest mampu menangkap pola non-linear dan kompleks pada data lebih efektif dibandingkan KNN yang bergantung pada kedekatan jarak antar titik data. Namun, keduanya masih menghasilkan MAPE di atas 50%, yang berarti akurasi model masih perlu ditingkatkan melalui optimasi parameter, penambahan fitur, atau metode pemodelan lain agar hasil prediksi konsentrasi NO₂ menjadi lebih akurat.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="n">hasil_model_knn</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;hasil_model_knn.csv&#39;</span><span class="p">)</span>
<span class="n">hasil_model_rf</span>  <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;hasil_model_random_forest.csv&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">hasil_model_knn</span><span class="p">[</span><span class="s1">&#39;Aktual&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Aktual&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">hasil_model_knn</span><span class="p">[</span><span class="s1">&#39;Prediksi&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;KNN Prediksi&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">hasil_model_rf</span><span class="p">[</span><span class="s1">&#39;Prediksi&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;RF Prediksi&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-.&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Perbandingan Prediksi KNN vs Random Forest&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Index / Waktu&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Konsentrasi NO₂&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/8e846fabde56f68e16806c2f36635ecc61abc3b62ae6207beb6d73f3d22674ce.png" src="_images/8e846fabde56f68e16806c2f36635ecc61abc3b62ae6207beb6d73f3d22674ce.png" />
</div>
</div>
</section>
<section id="prediksi-no2-besok-menggunakan-knn-regression">
<h3>Prediksi NO2 Besok Menggunakan KNN Regression<a class="headerlink" href="#prediksi-no2-besok-menggunakan-knn-regression" title="Link to this heading">#</a></h3>
<p>grafik ini menunjukkan prediksi kondisi NO2 sehari setelah data terakhir yang teklah dianalasis, yaitu tanggal 2 bulan oktober 2025. berikut hasilnya:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.neighbors</span><span class="w"> </span><span class="kn">import</span> <span class="n">KNeighborsRegressor</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">table</span><span class="p">[[</span><span class="s1">&#39;LAG-3&#39;</span><span class="p">,</span><span class="s1">&#39;LAG-2&#39;</span><span class="p">,</span><span class="s1">&#39;LAG-1&#39;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">table</span><span class="p">[</span><span class="s1">&#39;Target&#39;</span><span class="p">]</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>

<span class="n">knn_model</span> <span class="o">=</span> <span class="n">KNeighborsRegressor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">knn_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="n">last_data</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span><span class="o">.</span><span class="n">T</span>
<span class="n">prediksi_1hari</span> <span class="o">=</span> <span class="n">knn_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">last_data</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="n">mean_no2</span> <span class="o">=</span> <span class="n">table</span><span class="p">[</span><span class="s1">&#39;Target&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">std_no2</span> <span class="o">=</span> <span class="n">table</span><span class="p">[</span><span class="s1">&#39;Target&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>

<span class="k">if</span> <span class="n">prediksi_1hari</span> <span class="o">&lt;</span> <span class="n">mean_no2</span><span class="p">:</span>
    <span class="n">kategori</span> <span class="o">=</span> <span class="s2">&quot;Baik&quot;</span>
<span class="k">elif</span> <span class="n">prediksi_1hari</span> <span class="o">&lt;</span> <span class="n">mean_no2</span> <span class="o">+</span> <span class="n">std_no2</span><span class="p">:</span>
    <span class="n">kategori</span> <span class="o">=</span> <span class="s2">&quot;Sedang&quot;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">kategori</span> <span class="o">=</span> <span class="s2">&quot;Buruk&quot;</span>

<span class="n">tanggal_prediksi</span> <span class="o">=</span> <span class="n">table</span><span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;📅 Prediksi 1 Hari ke Depan&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tanggal Prediksi : </span><span class="si">{</span><span class="n">tanggal_prediksi</span><span class="o">.</span><span class="n">date</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nilai Prediksi NO₂ : </span><span class="si">{</span><span class="n">prediksi_1hari</span><span class="si">:</span><span class="s2">.8f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Kategori Kualitas Udara : </span><span class="si">{</span><span class="n">kategori</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">table</span><span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">],</span> <span class="n">table</span><span class="p">[</span><span class="s1">&#39;Target&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Aktual&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">tanggal_prediksi</span><span class="p">,</span> <span class="n">prediksi_1hari</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;darkgreen&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Prediksi 1 Hari&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Prediksi Konsentrasi NO₂ (1 Hari ke Depan) - KNN Regression&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Tanggal&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Konsentrasi NO₂ (mol/m²)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>📅 Prediksi 1 Hari ke Depan
Tanggal Prediksi : 2025-10-02
Nilai Prediksi NO₂ : 0.00208283
Kategori Kualitas Udara : Sedang
</pre></div>
</div>
<img alt="_images/915b4d86925ded1b7c7a5236970bc0dff0c70dc1acde1af1071668001a560e96.png" src="_images/915b4d86925ded1b7c7a5236970bc0dff0c70dc1acde1af1071668001a560e96.png" />
</div>
</div>
</section>
<section id="prediksi-no2-untuk-30-hari-menggunakan-knn-regression">
<h3>Prediksi NO2 untuk 30 Hari Menggunakan KNN Regression<a class="headerlink" href="#prediksi-no2-untuk-30-hari-menggunakan-knn-regression" title="Link to this heading">#</a></h3>
<p>grafik ini menunjukkan kondisi NO2 selama 30 hari setelah tanggal pada data terkahir yang dianalisis, yaitu mulai tanggal 02 - 31 oktober 2025</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.neighbors</span><span class="w"> </span><span class="kn">import</span> <span class="n">KNeighborsRegressor</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">table</span><span class="p">[[</span><span class="s1">&#39;LAG-3&#39;</span><span class="p">,</span><span class="s1">&#39;LAG-2&#39;</span><span class="p">,</span><span class="s1">&#39;LAG-1&#39;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">table</span><span class="p">[</span><span class="s1">&#39;Target&#39;</span><span class="p">]</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>

<span class="n">knn_model</span> <span class="o">=</span> <span class="n">KNeighborsRegressor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">knn_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="n">n_days</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">last_data</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span><span class="o">.</span><span class="n">T</span>
<span class="n">predictions</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">mean_no2</span> <span class="o">=</span> <span class="n">table</span><span class="p">[</span><span class="s1">&#39;Target&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">std_no2</span> <span class="o">=</span> <span class="n">table</span><span class="p">[</span><span class="s1">&#39;Target&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>

<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_days</span><span class="p">):</span>
    <span class="n">pred</span> <span class="o">=</span> <span class="n">knn_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">last_data</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">pred</span> <span class="o">&lt;</span> <span class="n">mean_no2</span><span class="p">:</span>
        <span class="n">kategori</span> <span class="o">=</span> <span class="s2">&quot;Baik&quot;</span>
    <span class="k">elif</span> <span class="n">pred</span> <span class="o">&lt;</span> <span class="n">mean_no2</span> <span class="o">+</span> <span class="n">std_no2</span><span class="p">:</span>
        <span class="n">kategori</span> <span class="o">=</span> <span class="s2">&quot;Sedang&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">kategori</span> <span class="o">=</span> <span class="s2">&quot;Buruk&quot;</span>
    <span class="n">predictions</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">pred</span><span class="p">,</span> <span class="n">kategori</span><span class="p">))</span>
    <span class="n">last_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">roll</span><span class="p">(</span><span class="n">last_data</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
    <span class="n">last_data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">pred</span>

<span class="n">future_dates</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span>
    <span class="n">start</span><span class="o">=</span><span class="n">table</span><span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
    <span class="n">periods</span><span class="o">=</span><span class="n">n_days</span>
<span class="p">)</span>

<span class="n">future_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;Tanggal&#39;</span><span class="p">:</span> <span class="n">future_dates</span><span class="p">,</span>
    <span class="s1">&#39;Prediksi_NO2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">predictions</span><span class="p">],</span>
    <span class="s1">&#39;Kategori_Kualitas_Udara&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">predictions</span><span class="p">]</span>
<span class="p">})</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">table</span><span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">],</span> <span class="n">table</span><span class="p">[</span><span class="s1">&#39;Target&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Aktual&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">future_df</span><span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">],</span> <span class="n">future_df</span><span class="p">[</span><span class="s1">&#39;Prediksi_NO2&#39;</span><span class="p">],</span>
            <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Prediksi 30 Hari ke Depan&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;darkgreen&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Prediksi Konsentrasi NO₂ 30 Hari ke Depan - KNN Regression&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Tanggal&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Konsentrasi NO₂ (mol/m²)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">future_df</span><span class="p">)</span>

<span class="n">future_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;prediksi_NO2_30hari_KNN.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">✅ File &#39;prediksi_NO2_30hari_KNN.csv&#39; berhasil disimpan.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/3136e2e0cb1eecd9e80d19a4284b15d1bdc4f051ebbb5f633a15a955b99e400b.png" src="_images/3136e2e0cb1eecd9e80d19a4284b15d1bdc4f051ebbb5f633a15a955b99e400b.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>               Tanggal  Prediksi_NO2 Kategori_Kualitas_Udara
0  2025-10-02 23:00:00      0.002083                  Sedang
1  2025-10-03 23:00:00      0.002238                  Sedang
2  2025-10-04 23:00:00      0.002114                  Sedang
3  2025-10-05 23:00:00      0.002066                  Sedang
4  2025-10-06 23:00:00      0.001538                    Baik
5  2025-10-07 23:00:00      0.001426                    Baik
6  2025-10-08 23:00:00      0.002008                  Sedang
7  2025-10-09 23:00:00      0.002337                  Sedang
8  2025-10-10 23:00:00      0.002376                  Sedang
9  2025-10-11 23:00:00      0.002191                  Sedang
10 2025-10-12 23:00:00      0.001897                  Sedang
11 2025-10-13 23:00:00      0.001783                  Sedang
12 2025-10-14 23:00:00      0.001882                  Sedang
13 2025-10-15 23:00:00      0.001428                    Baik
14 2025-10-16 23:00:00      0.001773                  Sedang
15 2025-10-17 23:00:00      0.000775                    Baik
16 2025-10-18 23:00:00      0.002669                   Buruk
17 2025-10-19 23:00:00      0.001085                    Baik
18 2025-10-20 23:00:00      0.001531                    Baik
19 2025-10-21 23:00:00      0.001674                    Baik
20 2025-10-22 23:00:00      0.001473                    Baik
21 2025-10-23 23:00:00      0.001518                    Baik
22 2025-10-24 23:00:00      0.001333                    Baik
23 2025-10-25 23:00:00      0.001948                  Sedang
24 2025-10-26 23:00:00      0.002307                  Sedang
25 2025-10-27 23:00:00      0.002335                  Sedang
26 2025-10-28 23:00:00      0.002326                  Sedang
27 2025-10-29 23:00:00      0.001495                    Baik
28 2025-10-30 23:00:00      0.001893                  Sedang
29 2025-10-31 23:00:00      0.001853                  Sedang

✅ File &#39;prediksi_NO2_30hari_KNN.csv&#39; berhasil disimpan.
</pre></div>
</div>
</div>
</div>
</section>
<section id="prediksi-no2-besok-menggunakan-random-forest">
<h3>Prediksi NO2 Besok Menggunakan Random Forest<a class="headerlink" href="#prediksi-no2-besok-menggunakan-random-forest" title="Link to this heading">#</a></h3>
<p>grafik ini menunjukkan prediksi kondisi NO2 sehari setelah data terakhir yang teklah dianalasis, yaitu tanggal 2 bulan oktober 2025. berikut hasilnya:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.ensemble</span><span class="w"> </span><span class="kn">import</span> <span class="n">RandomForestRegressor</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">table</span><span class="p">[[</span><span class="s1">&#39;LAG-3&#39;</span><span class="p">,</span><span class="s1">&#39;LAG-2&#39;</span><span class="p">,</span><span class="s1">&#39;LAG-1&#39;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">table</span><span class="p">[</span><span class="s1">&#39;Target&#39;</span><span class="p">]</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="n">last_data</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span><span class="o">.</span><span class="n">T</span>
<span class="n">pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">last_data</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="n">next_day</span> <span class="o">=</span> <span class="n">table</span><span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">mean_no2</span> <span class="o">=</span> <span class="n">table</span><span class="p">[</span><span class="s1">&#39;Target&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">std_no2</span> <span class="o">=</span> <span class="n">table</span><span class="p">[</span><span class="s1">&#39;Target&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>

<span class="k">if</span> <span class="n">pred</span> <span class="o">&lt;</span> <span class="n">mean_no2</span><span class="p">:</span>
    <span class="n">kategori</span> <span class="o">=</span> <span class="s2">&quot;Baik&quot;</span>
<span class="k">elif</span> <span class="n">pred</span> <span class="o">&lt;</span> <span class="n">mean_no2</span> <span class="o">+</span> <span class="n">std_no2</span><span class="p">:</span>
    <span class="n">kategori</span> <span class="o">=</span> <span class="s2">&quot;Sedang&quot;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">kategori</span> <span class="o">=</span> <span class="s2">&quot;Buruk&quot;</span>

<span class="n">future_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;Tanggal&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">next_day</span><span class="p">],</span>
    <span class="s1">&#39;Prediksi_NO2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">pred</span><span class="p">],</span>
    <span class="s1">&#39;Kategori_Kualitas_Udara&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">kategori</span><span class="p">]</span>
<span class="p">})</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">table</span><span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">],</span> <span class="n">table</span><span class="p">[</span><span class="s1">&#39;Target&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Aktual&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">future_df</span><span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">],</span> <span class="n">future_df</span><span class="p">[</span><span class="s1">&#39;Prediksi_NO2&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Prediksi 1 Hari (</span><span class="si">{</span><span class="n">kategori</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Prediksi Konsentrasi NO₂ 1 Hari ke Depan&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Tanggal&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Konsentrasi NO₂ (mol/m²)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">future_df</span><span class="p">)</span>

<span class="n">future_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;prediksi_NO2_1hari.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/4c14e8ce5adb130457aa30582ffb056a91796e95f4f1ceb1d5bf97f26070adca.png" src="_images/4c14e8ce5adb130457aa30582ffb056a91796e95f4f1ceb1d5bf97f26070adca.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>              Tanggal  Prediksi_NO2 Kategori_Kualitas_Udara
0 2025-10-02 23:00:00       0.00209                  Sedang
</pre></div>
</div>
</div>
</div>
</section>
<section id="prediksi-no2-untuk-30-hari-ke-depan-menggunakan-random-forest">
<h3>Prediksi NO₂ untuk 30 Hari ke Depan Menggunakan Random Forest<a class="headerlink" href="#prediksi-no2-untuk-30-hari-ke-depan-menggunakan-random-forest" title="Link to this heading">#</a></h3>
<p>grafik ini menunjukkan kondisi NO2 selama 30 hari setelah tanggal pada data terkahir yang dianalisis, yaitu mulai tanggal 02 - 31 oktober 2025</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.ensemble</span><span class="w"> </span><span class="kn">import</span> <span class="n">RandomForestRegressor</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">table</span><span class="p">[[</span><span class="s1">&#39;LAG-3&#39;</span><span class="p">,</span><span class="s1">&#39;LAG-2&#39;</span><span class="p">,</span><span class="s1">&#39;LAG-1&#39;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">table</span><span class="p">[</span><span class="s1">&#39;Target&#39;</span><span class="p">]</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="n">n_days</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">last_data</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span><span class="o">.</span><span class="n">T</span>
<span class="n">predictions</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">mean_no2</span> <span class="o">=</span> <span class="n">table</span><span class="p">[</span><span class="s1">&#39;Target&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">std_no2</span> <span class="o">=</span> <span class="n">table</span><span class="p">[</span><span class="s1">&#39;Target&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>

<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_days</span><span class="p">):</span>
    <span class="n">pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">last_data</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">pred</span> <span class="o">&lt;</span> <span class="n">mean_no2</span><span class="p">:</span>
        <span class="n">kategori</span> <span class="o">=</span> <span class="s2">&quot;Baik&quot;</span>
    <span class="k">elif</span> <span class="n">pred</span> <span class="o">&lt;</span> <span class="n">mean_no2</span> <span class="o">+</span> <span class="n">std_no2</span><span class="p">:</span>
        <span class="n">kategori</span> <span class="o">=</span> <span class="s2">&quot;Sedang&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">kategori</span> <span class="o">=</span> <span class="s2">&quot;Buruk&quot;</span>
    <span class="n">predictions</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">pred</span><span class="p">,</span> <span class="n">kategori</span><span class="p">))</span>
    <span class="n">last_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">roll</span><span class="p">(</span><span class="n">last_data</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
    <span class="n">last_data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">pred</span>

<span class="n">future_dates</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">table</span><span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">periods</span><span class="o">=</span><span class="n">n_days</span><span class="p">)</span>
<span class="n">future_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;Tanggal&#39;</span><span class="p">:</span> <span class="n">future_dates</span><span class="p">,</span>
    <span class="s1">&#39;Prediksi_NO2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">predictions</span><span class="p">],</span>
    <span class="s1">&#39;Kategori_Kualitas_Udara&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">predictions</span><span class="p">]</span>
<span class="p">})</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">table</span><span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">],</span> <span class="n">table</span><span class="p">[</span><span class="s1">&#39;Target&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Aktual&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">future_df</span><span class="p">[</span><span class="s1">&#39;Tanggal&#39;</span><span class="p">],</span> <span class="n">future_df</span><span class="p">[</span><span class="s1">&#39;Prediksi_NO2&#39;</span><span class="p">],</span>
            <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Prediksi 30 Hari ke Depan&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Prediksi Konsentrasi NO₂ 30 Hari ke Depan&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Tanggal&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Konsentrasi NO₂ (mol/m²)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">future_df</span><span class="p">)</span>

<span class="n">future_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;prediksi_NO2_30hari.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/3ef8e3b06c906ff2861fa1d33b211a6a4790e6e29dc789e9d03a7c24dc4d3909.png" src="_images/3ef8e3b06c906ff2861fa1d33b211a6a4790e6e29dc789e9d03a7c24dc4d3909.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>               Tanggal  Prediksi_NO2 Kategori_Kualitas_Udara
0  2025-10-02 23:00:00      0.002090                  Sedang
1  2025-10-03 23:00:00      0.002072                  Sedang
2  2025-10-04 23:00:00      0.001656                    Baik
3  2025-10-05 23:00:00      0.001768                  Sedang
4  2025-10-06 23:00:00      0.001907                  Sedang
5  2025-10-07 23:00:00      0.001763                  Sedang
6  2025-10-08 23:00:00      0.001748                    Baik
7  2025-10-09 23:00:00      0.001425                    Baik
8  2025-10-10 23:00:00      0.001659                    Baik
9  2025-10-11 23:00:00      0.001525                    Baik
10 2025-10-12 23:00:00      0.001631                    Baik
11 2025-10-13 23:00:00      0.001503                    Baik
12 2025-10-14 23:00:00      0.001679                    Baik
13 2025-10-15 23:00:00      0.001839                  Sedang
14 2025-10-16 23:00:00      0.001747                    Baik
15 2025-10-17 23:00:00      0.001575                    Baik
16 2025-10-18 23:00:00      0.001342                    Baik
17 2025-10-19 23:00:00      0.001639                    Baik
18 2025-10-20 23:00:00      0.001711                    Baik
19 2025-10-21 23:00:00      0.001879                  Sedang
20 2025-10-22 23:00:00      0.002038                  Sedang
21 2025-10-23 23:00:00      0.001810                  Sedang
22 2025-10-24 23:00:00      0.001678                    Baik
23 2025-10-25 23:00:00      0.001735                    Baik
24 2025-10-26 23:00:00      0.001496                    Baik
25 2025-10-27 23:00:00      0.001488                    Baik
26 2025-10-28 23:00:00      0.001760                  Sedang
27 2025-10-29 23:00:00      0.002067                  Sedang
28 2025-10-30 23:00:00      0.001701                    Baik
29 2025-10-31 23:00:00      0.001878                  Sedang
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="implementasi-machine-learning-dalam-prediksi-no2-menggunakan-random-forest">
<h2>Implementasi Machine Learning dalam Prediksi NO2 Menggunakan Random Forest<a class="headerlink" href="#implementasi-machine-learning-dalam-prediksi-no2-menggunakan-random-forest" title="Link to this heading">#</a></h2>
<section id="melatih-model">
<h3>Melatih Model<a class="headerlink" href="#melatih-model" title="Link to this heading">#</a></h3>
<p>Baris kode ini digunakan untuk melatih model Random Forest. Model belajar dari data training X_train_scaled dan target y_train untuk memprediksi nilai NO₂ berikutnya. Setelah proses ini, model siap digunakan untuk melakukan prediksi pada data baru.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rf</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">()</span>
<span class="n">rf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_scaled</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>#sk-container-id-1 {
  /* Definition of color scheme common for light and dark mode */
  --sklearn-color-text: #000;
  --sklearn-color-text-muted: #666;
  --sklearn-color-line: gray;
  /* Definition of color scheme for unfitted estimators */
  --sklearn-color-unfitted-level-0: #fff5e6;
  --sklearn-color-unfitted-level-1: #f6e4d2;
  --sklearn-color-unfitted-level-2: #ffe0b3;
  --sklearn-color-unfitted-level-3: chocolate;
  /* Definition of color scheme for fitted estimators */
  --sklearn-color-fitted-level-0: #f0f8ff;
  --sklearn-color-fitted-level-1: #d4ebff;
  --sklearn-color-fitted-level-2: #b3dbfd;
  --sklearn-color-fitted-level-3: cornflowerblue;

  /* Specific color for light theme */
  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));
  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-icon: #696969;

  @media (prefers-color-scheme: dark) {
    /* Redefinition of color scheme for dark theme */
    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));
    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-icon: #878787;
  }
}

#sk-container-id-1 {
  color: var(--sklearn-color-text);
}

#sk-container-id-1 pre {
  padding: 0;
}

#sk-container-id-1 input.sk-hidden--visually {
  border: 0;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

#sk-container-id-1 div.sk-dashed-wrapped {
  border: 1px dashed var(--sklearn-color-line);
  margin: 0 0.4em 0.5em 0.4em;
  box-sizing: border-box;
  padding-bottom: 0.4em;
  background-color: var(--sklearn-color-background);
}

#sk-container-id-1 div.sk-container {
  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`
     but bootstrap.min.css set `[hidden] { display: none !important; }`
     so we also need the `!important` here to be able to override the
     default hidden behavior on the sphinx rendered scikit-learn.org.
     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */
  display: inline-block !important;
  position: relative;
}

#sk-container-id-1 div.sk-text-repr-fallback {
  display: none;
}

div.sk-parallel-item,
div.sk-serial,
div.sk-item {
  /* draw centered vertical line to link estimators */
  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));
  background-size: 2px 100%;
  background-repeat: no-repeat;
  background-position: center center;
}

/* Parallel-specific style estimator block */

#sk-container-id-1 div.sk-parallel-item::after {
  content: "";
  width: 100%;
  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);
  flex-grow: 1;
}

#sk-container-id-1 div.sk-parallel {
  display: flex;
  align-items: stretch;
  justify-content: center;
  background-color: var(--sklearn-color-background);
  position: relative;
}

#sk-container-id-1 div.sk-parallel-item {
  display: flex;
  flex-direction: column;
}

#sk-container-id-1 div.sk-parallel-item:first-child::after {
  align-self: flex-end;
  width: 50%;
}

#sk-container-id-1 div.sk-parallel-item:last-child::after {
  align-self: flex-start;
  width: 50%;
}

#sk-container-id-1 div.sk-parallel-item:only-child::after {
  width: 0;
}

/* Serial-specific style estimator block */

#sk-container-id-1 div.sk-serial {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--sklearn-color-background);
  padding-right: 1em;
  padding-left: 1em;
}


/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is
clickable and can be expanded/collapsed.
- Pipeline and ColumnTransformer use this feature and define the default style
- Estimators will overwrite some part of the style using the `sk-estimator` class
*/

/* Pipeline and ColumnTransformer style (default) */

#sk-container-id-1 div.sk-toggleable {
  /* Default theme specific background. It is overwritten whether we have a
  specific estimator or a Pipeline/ColumnTransformer */
  background-color: var(--sklearn-color-background);
}

/* Toggleable label */
#sk-container-id-1 label.sk-toggleable__label {
  cursor: pointer;
  display: flex;
  width: 100%;
  margin-bottom: 0;
  padding: 0.5em;
  box-sizing: border-box;
  text-align: center;
  align-items: start;
  justify-content: space-between;
  gap: 0.5em;
}

#sk-container-id-1 label.sk-toggleable__label .caption {
  font-size: 0.6rem;
  font-weight: lighter;
  color: var(--sklearn-color-text-muted);
}

#sk-container-id-1 label.sk-toggleable__label-arrow:before {
  /* Arrow on the left of the label */
  content: "▸";
  float: left;
  margin-right: 0.25em;
  color: var(--sklearn-color-icon);
}

#sk-container-id-1 label.sk-toggleable__label-arrow:hover:before {
  color: var(--sklearn-color-text);
}

/* Toggleable content - dropdown */

#sk-container-id-1 div.sk-toggleable__content {
  display: none;
  text-align: left;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-1 div.sk-toggleable__content.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-1 div.sk-toggleable__content pre {
  margin: 0.2em;
  border-radius: 0.25em;
  color: var(--sklearn-color-text);
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-1 div.sk-toggleable__content.fitted pre {
  /* unfitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-1 input.sk-toggleable__control:checked~div.sk-toggleable__content {
  /* Expand drop-down */
  display: block;
  width: 100%;
  overflow: visible;
}

#sk-container-id-1 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {
  content: "▾";
}

/* Pipeline/ColumnTransformer-specific style */

#sk-container-id-1 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-1 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator-specific style */

/* Colorize estimator box */
#sk-container-id-1 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-1 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

#sk-container-id-1 div.sk-label label.sk-toggleable__label,
#sk-container-id-1 div.sk-label label {
  /* The background is the default theme color */
  color: var(--sklearn-color-text-on-default-background);
}

/* On hover, darken the color of the background */
#sk-container-id-1 div.sk-label:hover label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

/* Label box, darken color on hover, fitted */
#sk-container-id-1 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator label */

#sk-container-id-1 div.sk-label label {
  font-family: monospace;
  font-weight: bold;
  display: inline-block;
  line-height: 1.2em;
}

#sk-container-id-1 div.sk-label-container {
  text-align: center;
}

/* Estimator-specific */
#sk-container-id-1 div.sk-estimator {
  font-family: monospace;
  border: 1px dotted var(--sklearn-color-border-box);
  border-radius: 0.25em;
  box-sizing: border-box;
  margin-bottom: 0.5em;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-1 div.sk-estimator.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

/* on hover */
#sk-container-id-1 div.sk-estimator:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-1 div.sk-estimator.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Specification for estimator info (e.g. "i" and "?") */

/* Common style for "i" and "?" */

.sk-estimator-doc-link,
a:link.sk-estimator-doc-link,
a:visited.sk-estimator-doc-link {
  float: right;
  font-size: smaller;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1em;
  height: 1em;
  width: 1em;
  text-decoration: none !important;
  margin-left: 0.5em;
  text-align: center;
  /* unfitted */
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
  color: var(--sklearn-color-unfitted-level-1);
}

.sk-estimator-doc-link.fitted,
a:link.sk-estimator-doc-link.fitted,
a:visited.sk-estimator-doc-link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
div.sk-estimator:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover,
div.sk-label-container:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover,
div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

/* Span, style for the box shown on hovering the info icon */
.sk-estimator-doc-link span {
  display: none;
  z-index: 9999;
  position: relative;
  font-weight: normal;
  right: .2ex;
  padding: .5ex;
  margin: .5ex;
  width: min-content;
  min-width: 20ex;
  max-width: 50ex;
  color: var(--sklearn-color-text);
  box-shadow: 2pt 2pt 4pt #999;
  /* unfitted */
  background: var(--sklearn-color-unfitted-level-0);
  border: .5pt solid var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted span {
  /* fitted */
  background: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3);
}

.sk-estimator-doc-link:hover span {
  display: block;
}

/* "?"-specific style due to the `<a>` HTML tag */

#sk-container-id-1 a.estimator_doc_link {
  float: right;
  font-size: 1rem;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1rem;
  height: 1rem;
  width: 1rem;
  text-decoration: none;
  /* unfitted */
  color: var(--sklearn-color-unfitted-level-1);
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
}

#sk-container-id-1 a.estimator_doc_link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
#sk-container-id-1 a.estimator_doc_link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

#sk-container-id-1 a.estimator_doc_link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
}

.estimator-table summary {
    padding: .5rem;
    font-family: monospace;
    cursor: pointer;
}

.estimator-table details[open] {
    padding-left: 0.1rem;
    padding-right: 0.1rem;
    padding-bottom: 0.3rem;
}

.estimator-table .parameters-table {
    margin-left: auto !important;
    margin-right: auto !important;
}

.estimator-table .parameters-table tr:nth-child(odd) {
    background-color: #fff;
}

.estimator-table .parameters-table tr:nth-child(even) {
    background-color: #f6f6f6;
}

.estimator-table .parameters-table tr:hover {
    background-color: #e0e0e0;
}

.estimator-table table td {
    border: 1px solid rgba(106, 105, 104, 0.232);
}

.user-set td {
    color:rgb(255, 94, 0);
    text-align: left;
}

.user-set td.value pre {
    color:rgb(255, 94, 0) !important;
    background-color: transparent !important;
}

.default td {
    color: black;
    text-align: left;
}

.user-set td i,
.default td i {
    color: black;
}

.copy-paste-icon {
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNy4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjUgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTIwOCAwTDMzMi4xIDBjMTIuNyAwIDI0LjkgNS4xIDMzLjkgMTQuMWw2Ny45IDY3LjljOSA5IDE0LjEgMjEuMiAxNC4xIDMzLjlMNDQ4IDMzNmMwIDI2LjUtMjEuNSA0OC00OCA0OGwtMTkyIDBjLTI2LjUgMC00OC0yMS41LTQ4LTQ4bDAtMjg4YzAtMjYuNSAyMS41LTQ4IDQ4LTQ4ek00OCAxMjhsODAgMCAwIDY0LTY0IDAgMCAyNTYgMTkyIDAgMC0zMiA2NCAwIDAgNDhjMCAyNi41LTIxLjUgNDgtNDggNDhMNDggNTEyYy0yNi41IDAtNDgtMjEuNS00OC00OEwwIDE3NmMwLTI2LjUgMjEuNS00OCA0OC00OHoiLz48L3N2Zz4=);
    background-repeat: no-repeat;
    background-size: 14px 14px;
    background-position: 0;
    display: inline-block;
    width: 14px;
    height: 14px;
    cursor: pointer;
}
</style><body><div id="sk-container-id-1" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>RandomForestRegressor()</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br />On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden><div class="sk-item"><div class="sk-estimator fitted sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-1" type="checkbox" checked><label for="sk-estimator-id-1" class="sk-toggleable__label fitted sk-toggleable__label-arrow"><div><div>RandomForestRegressor</div></div><div><a class="sk-estimator-doc-link fitted" rel="noreferrer" target="_blank" href="https://scikit-learn.org/1.7/modules/generated/sklearn.ensemble.RandomForestRegressor.html">?<span>Documentation for RandomForestRegressor</span></a><span class="sk-estimator-doc-link fitted">i<span>Fitted</span></span></div></label><div class="sk-toggleable__content fitted" data-param-prefix="">
        <div class="estimator-table">
            <details>
                <summary>Parameters</summary>
                <table class="parameters-table">
                  <tbody>
                    
        <tr class="default">
            <td><i class="copy-paste-icon"
                 onclick="copyToClipboard('n_estimators',
                          this.parentElement.nextElementSibling)"
            ></i></td>
            <td class="param">n_estimators&nbsp;</td>
            <td class="value">100</td>
        </tr>
    

        <tr class="default">
            <td><i class="copy-paste-icon"
                 onclick="copyToClipboard('criterion',
                          this.parentElement.nextElementSibling)"
            ></i></td>
            <td class="param">criterion&nbsp;</td>
            <td class="value">&#x27;squared_error&#x27;</td>
        </tr>
    

        <tr class="default">
            <td><i class="copy-paste-icon"
                 onclick="copyToClipboard('max_depth',
                          this.parentElement.nextElementSibling)"
            ></i></td>
            <td class="param">max_depth&nbsp;</td>
            <td class="value">None</td>
        </tr>
    

        <tr class="default">
            <td><i class="copy-paste-icon"
                 onclick="copyToClipboard('min_samples_split',
                          this.parentElement.nextElementSibling)"
            ></i></td>
            <td class="param">min_samples_split&nbsp;</td>
            <td class="value">2</td>
        </tr>
    

        <tr class="default">
            <td><i class="copy-paste-icon"
                 onclick="copyToClipboard('min_samples_leaf',
                          this.parentElement.nextElementSibling)"
            ></i></td>
            <td class="param">min_samples_leaf&nbsp;</td>
            <td class="value">1</td>
        </tr>
    

        <tr class="default">
            <td><i class="copy-paste-icon"
                 onclick="copyToClipboard('min_weight_fraction_leaf',
                          this.parentElement.nextElementSibling)"
            ></i></td>
            <td class="param">min_weight_fraction_leaf&nbsp;</td>
            <td class="value">0.0</td>
        </tr>
    

        <tr class="default">
            <td><i class="copy-paste-icon"
                 onclick="copyToClipboard('max_features',
                          this.parentElement.nextElementSibling)"
            ></i></td>
            <td class="param">max_features&nbsp;</td>
            <td class="value">1.0</td>
        </tr>
    

        <tr class="default">
            <td><i class="copy-paste-icon"
                 onclick="copyToClipboard('max_leaf_nodes',
                          this.parentElement.nextElementSibling)"
            ></i></td>
            <td class="param">max_leaf_nodes&nbsp;</td>
            <td class="value">None</td>
        </tr>
    

        <tr class="default">
            <td><i class="copy-paste-icon"
                 onclick="copyToClipboard('min_impurity_decrease',
                          this.parentElement.nextElementSibling)"
            ></i></td>
            <td class="param">min_impurity_decrease&nbsp;</td>
            <td class="value">0.0</td>
        </tr>
    

        <tr class="default">
            <td><i class="copy-paste-icon"
                 onclick="copyToClipboard('bootstrap',
                          this.parentElement.nextElementSibling)"
            ></i></td>
            <td class="param">bootstrap&nbsp;</td>
            <td class="value">True</td>
        </tr>
    

        <tr class="default">
            <td><i class="copy-paste-icon"
                 onclick="copyToClipboard('oob_score',
                          this.parentElement.nextElementSibling)"
            ></i></td>
            <td class="param">oob_score&nbsp;</td>
            <td class="value">False</td>
        </tr>
    

        <tr class="default">
            <td><i class="copy-paste-icon"
                 onclick="copyToClipboard('n_jobs',
                          this.parentElement.nextElementSibling)"
            ></i></td>
            <td class="param">n_jobs&nbsp;</td>
            <td class="value">None</td>
        </tr>
    

        <tr class="default">
            <td><i class="copy-paste-icon"
                 onclick="copyToClipboard('random_state',
                          this.parentElement.nextElementSibling)"
            ></i></td>
            <td class="param">random_state&nbsp;</td>
            <td class="value">None</td>
        </tr>
    

        <tr class="default">
            <td><i class="copy-paste-icon"
                 onclick="copyToClipboard('verbose',
                          this.parentElement.nextElementSibling)"
            ></i></td>
            <td class="param">verbose&nbsp;</td>
            <td class="value">0</td>
        </tr>
    

        <tr class="default">
            <td><i class="copy-paste-icon"
                 onclick="copyToClipboard('warm_start',
                          this.parentElement.nextElementSibling)"
            ></i></td>
            <td class="param">warm_start&nbsp;</td>
            <td class="value">False</td>
        </tr>
    

        <tr class="default">
            <td><i class="copy-paste-icon"
                 onclick="copyToClipboard('ccp_alpha',
                          this.parentElement.nextElementSibling)"
            ></i></td>
            <td class="param">ccp_alpha&nbsp;</td>
            <td class="value">0.0</td>
        </tr>
    

        <tr class="default">
            <td><i class="copy-paste-icon"
                 onclick="copyToClipboard('max_samples',
                          this.parentElement.nextElementSibling)"
            ></i></td>
            <td class="param">max_samples&nbsp;</td>
            <td class="value">None</td>
        </tr>
    

        <tr class="default">
            <td><i class="copy-paste-icon"
                 onclick="copyToClipboard('monotonic_cst',
                          this.parentElement.nextElementSibling)"
            ></i></td>
            <td class="param">monotonic_cst&nbsp;</td>
            <td class="value">None</td>
        </tr>
    
                  </tbody>
                </table>
            </details>
        </div>
    </div></div></div></div></div><script>function copyToClipboard(text, element) {
    // Get the parameter prefix from the closest toggleable content
    const toggleableContent = element.closest('.sk-toggleable__content');
    const paramPrefix = toggleableContent ? toggleableContent.dataset.paramPrefix : '';
    const fullParamName = paramPrefix ? `${paramPrefix}${text}` : text;

    const originalStyle = element.style;
    const computedStyle = window.getComputedStyle(element);
    const originalWidth = computedStyle.width;
    const originalHTML = element.innerHTML.replace('Copied!', '');

    navigator.clipboard.writeText(fullParamName)
        .then(() => {
            element.style.width = originalWidth;
            element.style.color = 'green';
            element.innerHTML = "Copied!";

            setTimeout(() => {
                element.innerHTML = originalHTML;
                element.style = originalStyle;
            }, 2000);
        })
        .catch(err => {
            console.error('Failed to copy:', err);
            element.style.color = 'red';
            element.innerHTML = "Failed!";
            setTimeout(() => {
                element.innerHTML = originalHTML;
                element.style = originalStyle;
            }, 2000);
        });
    return false;
}

document.querySelectorAll('.fa-regular.fa-copy').forEach(function(element) {
    const toggleableContent = element.closest('.sk-toggleable__content');
    const paramPrefix = toggleableContent ? toggleableContent.dataset.paramPrefix : '';
    const paramName = element.parentElement.nextElementSibling.textContent.trim();
    const fullParamName = paramPrefix ? `${paramPrefix}${paramName}` : paramName;

    element.setAttribute('title', fullParamName);
});
</script></body></div></div>
</div>
</section>
<section id="pemrosesan-data">
<h3>Pemrosesan Data<a class="headerlink" href="#pemrosesan-data" title="Link to this heading">#</a></h3>
<p>Kode ini membuat model Random Forest untuk memprediksi konsentrasi NO₂. Data historis diolah menjadi fitur lag, lalu dibagi menjadi data training dan testing. Fitur dan target dinormalisasi agar model lebih stabil. Setelah model dilatih, model dan scaler disimpan agar bisa digunakan lagi untuk prediksi data baru tanpa harus melatih ulang.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">MinMaxScaler</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.ensemble</span><span class="w"> </span><span class="kn">import</span> <span class="n">RandomForestRegressor</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">joblib</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;no2_awal_perjam.csv&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Konsentrasi_NO2 (mol/m²)&quot;</span><span class="p">:</span> <span class="s2">&quot;NO2&quot;</span><span class="p">})</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
    <span class="n">data</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;LAG-</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;NO2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">data</span><span class="p">[[</span><span class="s2">&quot;LAG-3&quot;</span><span class="p">,</span> <span class="s2">&quot;LAG-2&quot;</span><span class="p">,</span> <span class="s2">&quot;LAG-1&quot;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;NO2&quot;</span><span class="p">]</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">scaler_X</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">()</span>
<span class="n">scaler_y</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">()</span>
<span class="n">X_train_scaled</span> <span class="o">=</span> <span class="n">scaler_X</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">X_test_scaled</span> <span class="o">=</span> <span class="n">scaler_X</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">y_train_scaled</span> <span class="o">=</span> <span class="n">scaler_y</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y_train</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>

<span class="n">rf</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">rf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_scaled</span><span class="p">,</span> <span class="n">y_train_scaled</span><span class="p">)</span>

<span class="n">joblib</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">rf</span><span class="p">,</span> <span class="s2">&quot;model_random_forest.pkl&quot;</span><span class="p">)</span>
<span class="n">joblib</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">scaler_X</span><span class="p">,</span> <span class="s2">&quot;scaler_X.pkl&quot;</span><span class="p">)</span>
<span class="n">joblib</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">scaler_y</span><span class="p">,</span> <span class="s2">&quot;scaler_y.pkl&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;✅ Model dan scaler berhasil disimpan:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot; - model_random_forest.pkl&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot; - scaler_X.pkl&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot; - scaler_y.pkl&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>✅ Model dan scaler berhasil disimpan:
 - model_random_forest.pkl
 - scaler_X.pkl
 - scaler_y.pkl
</pre></div>
</div>
</div>
</div>
</section>
<section id="prediksi-konsentrasi-no2-menggunakan-random-forest">
<h3>Prediksi Konsentrasi NO2 Menggunakan Random Forest<a class="headerlink" href="#prediksi-konsentrasi-no2-menggunakan-random-forest" title="Link to this heading">#</a></h3>
<p>Kode ini digunakan untuk memprediksi konsentrasi NO₂ selanjutnya berdasarkan data historis dan input terbaru dari pengguna. Data NO₂ diolah menjadi fitur lag, kemudian distandarisasi menggunakan scaler yang sudah disimpan saat pelatihan model. Model Random Forest memproses data tersebut untuk menghasilkan prediksi, lalu kategori kualitas udara (Baik, Sedang, Buruk) ditentukan berdasarkan mean dan standar deviasi historis. Hasil prediksi dan evaluasi model (MAPE, RMSE, MSE, R²) ditampilkan untuk setiap input terbaru.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">MinMaxScaler</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">mean_absolute_percentage_error</span><span class="p">,</span> <span class="n">mean_squared_error</span><span class="p">,</span> <span class="n">r2_score</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">joblib</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">joblib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;model_random_forest.pkl&quot;</span><span class="p">)</span>
<span class="n">scaler_X</span> <span class="o">=</span> <span class="n">joblib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;scaler_X.pkl&quot;</span><span class="p">)</span>
<span class="n">scaler_y</span> <span class="o">=</span> <span class="n">joblib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;scaler_y.pkl&quot;</span><span class="p">)</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;no2_awal_perjam.csv&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Konsentrasi_NO2 (mol/m²)&quot;</span><span class="p">:</span> <span class="s2">&quot;NO2&quot;</span><span class="p">})</span>

<span class="n">mean_no2</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;NO2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">std_no2</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;NO2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>

<span class="n">no2_values</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;NO2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

<span class="n">user_input</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Masukkan nilai NO₂ terbaru (mol/m²), pisahkan dengan koma jika lebih dari 1: &quot;</span><span class="p">)</span>
<span class="n">new_values</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">user_input</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Nilai NO₂ terbaru yang dimasukkan:&quot;</span><span class="p">,</span> <span class="n">new_values</span><span class="p">)</span>

<span class="n">no2_values</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">new_values</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;NO2&quot;</span><span class="p">:</span> <span class="n">no2_values</span><span class="p">})</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
    <span class="n">df</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;LAG-</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;NO2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="n">latest</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">new_values</span><span class="p">):][[</span><span class="s2">&quot;LAG-3&quot;</span><span class="p">,</span> <span class="s2">&quot;LAG-2&quot;</span><span class="p">,</span> <span class="s2">&quot;LAG-1&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span>

<span class="n">input_scaled</span> <span class="o">=</span> <span class="n">scaler_X</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">latest</span><span class="p">)</span>
<span class="n">pred_scaled</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">input_scaled</span><span class="p">)</span>
<span class="n">pred_real</span> <span class="o">=</span> <span class="n">scaler_y</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">pred_scaled</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>

<span class="n">kategori_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">pred_real</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">val</span> <span class="o">&lt;</span> <span class="n">mean_no2</span><span class="p">:</span>
        <span class="n">kategori_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Baik&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">val</span> <span class="o">&lt;</span> <span class="n">mean_no2</span> <span class="o">+</span> <span class="n">std_no2</span><span class="p">:</span>
        <span class="n">kategori_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Sedang&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">kategori_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Buruk&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">new_values</span><span class="p">)):</span>
    <span class="n">y_true</span> <span class="o">=</span> <span class="p">[</span><span class="n">new_values</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
    <span class="n">y_pred</span> <span class="o">=</span> <span class="p">[</span><span class="n">pred_real</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
    <span class="n">mape</span> <span class="o">=</span> <span class="n">mean_absolute_percentage_error</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
    <span class="n">mse</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
    <span class="n">rmse</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mse</span><span class="p">)</span>
    <span class="n">r2</span> <span class="o">=</span> <span class="n">r2_score</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;HASIL PREDIKSI RANDOM FOREST untuk input ke-</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nilai NO₂ terbaru: </span><span class="si">{</span><span class="n">y_true</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.8f</span><span class="si">}</span><span class="s2"> mol/m²&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Prediksi Konsentrasi NO₂ Selanjutnya: </span><span class="si">{</span><span class="n">y_pred</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.8f</span><span class="si">}</span><span class="s2"> mol/m²&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Kategori Kualitas Udara: </span><span class="si">{</span><span class="n">kategori_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Evaluasi Model:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; - MAPE : </span><span class="si">{</span><span class="n">mape</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; - RMSE : </span><span class="si">{</span><span class="n">rmse</span><span class="si">:</span><span class="s2">.6f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; - MSE  : </span><span class="si">{</span><span class="n">mse</span><span class="si">:</span><span class="s2">.6f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; - R²   : </span><span class="si">{</span><span class="n">r2</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Nilai NO₂ terbaru yang dimasukkan: [0.001878]
HASIL PREDIKSI RANDOM FOREST untuk input ke-1
Nilai NO₂ terbaru: 0.00187800 mol/m²
Prediksi Konsentrasi NO₂ Selanjutnya: 0.00142807 mol/m²
Kategori Kualitas Udara: Baik
Evaluasi Model:
 - MAPE : 23.9579%
 - RMSE : 0.000450
 - MSE  : 0.000000
 - R²   : nan
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>c:\Users\vanisa\AppData\Local\Programs\Python\Python313\Lib\site-packages\sklearn\utils\validation.py:2749: UserWarning: X does not have valid feature names, but MinMaxScaler was fitted with feature names
  warnings.warn(
c:\Users\vanisa\AppData\Local\Programs\Python\Python313\Lib\site-packages\sklearn\metrics\_regression.py:1283: UndefinedMetricWarning: R^2 score is not well-defined with less than two samples.
  warnings.warn(msg, UndefinedMetricWarning)
</pre></div>
</div>
</div>
</div>
</section>
</section>
<<<<<<< HEAD
=======
<section id="implementasi-menggunakan-streamlit">
<h2>Implementasi Menggunakan Streamlit<a class="headerlink" href="#implementasi-menggunakan-streamlit" title="Link to this heading">#</a></h2>
<p><img alt="Grafik Minimum" src="_images/image.png" /></p>
<p>Link Streamlit : <a class="reference external" href="https://no2prediction-vanisafaradela-23-158.streamlit.app/">https://no2prediction-vanisafaradela-23-158.streamlit.app/</a></p>
</section>
>>>>>>> ff8a6e6c9ed19be74b1219edc5b7aab7dcd29881
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
<<<<<<< HEAD
       href="tugas8.html"
=======
       href="tugas7.html"
>>>>>>> ff8a6e6c9ed19be74b1219edc5b7aab7dcd29881
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
<<<<<<< HEAD
        <p class="prev-next-title">KLASIFIKASI DATASET TIROID MENGGUNAKAN KNIME</p>
=======
        <p class="prev-next-title">KLASIFIKASI DATA MENGGUNAKAN KNIME - PROJECT PRA UTS</p>
>>>>>>> ff8a6e6c9ed19be74b1219edc5b7aab7dcd29881
      </div>
    </a>
    <a class="right-next"
       href="tugas10.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">IDENTIFIKASI SUARA ‘BUKA TUTUP’ MENGGUNAKAN FEATURE STATISTIK TIME SERIES</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-understanding">Data Understanding</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menginstal-dan-mengkoneksi-openeo">Menginstal dan Mengkoneksi Openeo</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#timeseries-konsentrasi-no2-per-jam">Timeseries Konsentrasi NO2 per Jam</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocessing">Preprocessing</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pemrosesan-missing-value">Pemrosesan Missing Value</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#split-data">Split Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#normalisasi-data-mengguakan-minmaxscaler">Normalisasi Data Mengguakan MinMaxScaler</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#transformasi-data-timeseries-menjadi-supervised-learning-dengan-fitur-lag">Transformasi Data Timeseries Menjadi Supervised Learning Dengan Fitur Lag</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-kondisi-no2-menggunakan-knn-regression-dan-random-forest">Analisis Kondisi NO2 Menggunakan KNN Regression dan Random Forest</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pemodelan-prediksi-konsentrasi-no2-menggunakan-model-knn">Pemodelan Prediksi Konsentrasi NO2 Menggunakan Model KNN</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluasi-model-k-nearest-neighbors-knn">Evaluasi Model K-Nearest Neighbors (KNN)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi-prediksi-no2-menggunakan-k-nearest-neighbors-knn">Visualisasi Prediksi NO2 Menggunakan K-Nearest Neighbors (KNN)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pemodelan-prediksi-konsentrasi-no2-menggunakan-model-random-forest">Pemodelan Prediksi Konsentrasi NO₂ Menggunakan Model Random Forest</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluasi-model-random-forest">Evaluasi Model Random Forest</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi-hasil-prediksi-konsentrasi-no2-menggunakan-random-forest">Visualisasi Hasil Prediksi Konsentrasi NO₂ Menggunakan Random Forest</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#perbandingan-model-menggunakan-knn-dan-random-forest">Perbandingan Model Menggunakan KNN dan Random Forest</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prediksi-no2-besok-menggunakan-knn-regression">Prediksi NO2 Besok Menggunakan KNN Regression</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prediksi-no2-untuk-30-hari-menggunakan-knn-regression">Prediksi NO2 untuk 30 Hari Menggunakan KNN Regression</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prediksi-no2-besok-menggunakan-random-forest">Prediksi NO2 Besok Menggunakan Random Forest</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prediksi-no2-untuk-30-hari-ke-depan-menggunakan-random-forest">Prediksi NO₂ untuk 30 Hari ke Depan Menggunakan Random Forest</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implementasi-machine-learning-dalam-prediksi-no2-menggunakan-random-forest">Implementasi Machine Learning dalam Prediksi NO2 Menggunakan Random Forest</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#melatih-model">Melatih Model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pemrosesan-data">Pemrosesan Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prediksi-konsentrasi-no2-menggunakan-random-forest">Prediksi Konsentrasi NO2 Menggunakan Random Forest</a></li>
</ul>
</li>
<<<<<<< HEAD
=======
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implementasi-menggunakan-streamlit">Implementasi Menggunakan Streamlit</a></li>
>>>>>>> ff8a6e6c9ed19be74b1219edc5b7aab7dcd29881
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>